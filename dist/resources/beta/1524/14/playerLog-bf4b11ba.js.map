{"version":3,"file":"playerLog-bf4b11ba.js","sources":["src/modules/_dataAccess/daViewCombat.js","src/modules/app/combat/view.js","src/modules/logs/pvpSummary/combatCache.js","src/modules/ajax/combatView.js","src/modules/logs/pvpSummary/addPvpSummary.js","src/modules/logs/doBuffLink.js","src/modules/logs/doChat.js","src/modules/logs/processLadder.js","src/modules/logs/playerColour.js","src/modules/logs/addLogWidgets.js","src/modules/logs/playerLog.js"],"sourcesContent":null,"names":["daViewCombat","id","callApp","cmd","subcmd","combat_id","appViewCombat","combatCache","keepRecent","data","sevenDays","acc","combatId","logTime","currentCombatRecord","prepareCache","oneDay","nowSecs","lastCheck","keys","reduce","partial","set","cleanCache","checkCache","inSpecialsList","el","specials","check","specialHtml","i","label","JSON","stringify","getText","sendEvent","whatsMissing","json","html","querySelectorAll","createDocument","r","forEach","unknownSpecials","every","indexAjaxData","then","cacheCombat","aRow","s","parseDateAsTimestamp","getTextTrim","cells","result","stat","desc","color","addCommas","iWon","defender","playerId","winner","iDefended","attacker","iAttacked","highlightSpecials","params","parseCombat","combatSummary","setInnerHtml","xp_gain","gold_gain","gold_stolen","pvp_prestige_gain","pvp_rating_change","replaceLeadingText","msgCell","newHtml","replaceText","createSpan","innerHTML","replaceChild","firstChild","processCombatRow","test","includes","combatID","exec","createDiv","style","insertElement","processCombat","combatRowTests","messageType","calf","showPvPSummaryInLog","addPvpSummary","e","isCombatRow","thisNick","nick","buffObj","csvSplit","nicks","toLowerCase","getBuffId","buffList","find","doBuffLink","targetPlayerID","buffsSent","href","quickBuffHref","replace","map","join","messageExtras","playerName","messageHTML","firstPart","substring","indexOf","makeFirstPart","replyTo","buffName","enableChatParsing","substr","makeMsgReplyTo","tradeUrl","secureUrl","makeExtraPart","thirdPart","targetPlayerRE","match","getThirdPart","addAttackLinkToLog","attackplayerUrl","getAttackPart","makeFourthPart","length","makeLastPart","isChat","isGuildMate","extraPart","dateHTML","dateFirstPart","dateLastPart","doAddIgnore","reportIgnore","processLadder","isLadderReset","lastLadderReset","setValue","saveLastResetTime","listOfAllies","listOfEnemies","memberNamesAsStrings","setColour","col","classList","add","playerColor","colorPlayerName","playerElement","isEnemy","isAlly","getKeys","justUsername","obj","username","prepareAlliesEnemies","_allies","_enemies","addExtraStuff","dateExtraText","canIgnore","buffingPlayerID","playerIDRE","buffingPlayerName","children","extraText","hasPlayerLink","nodeName","doLogWidgetRow","doChat","doExtraStuff","processLogWidgetRow","getTitle","openMsgDialog","evt","window","openQuickMsgDialog","target","getAttribute","foundLogTable","logTable","getCalfPrefs","messageHeader","rows","insertHtmlBeforeEnd","doMsgHeader","dataRows","processTableRows","$","on","addLogWidgetsOld","getValue","querySelector","addLogColoring","jQueryNotPresent","prm","myStats","get","currentGuildId","push","getMembrList","allthen","addLogWidgets"],"mappings":"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","sourceRoot":"https://rawcdn.githack.com/fallenswordhelper/fallenswordhelper/15.24.14"}