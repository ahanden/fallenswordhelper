{"version":3,"file":"playerLog-66d4c6a6.js","sources":["src/modules/logs/playerLogWidgets/isGuildMate.js","src/modules/logs/playerLogWidgets/addAttackLink.js","src/modules/logs/playerLogWidgets/addIgnoreLinks.js","src/modules/_dataAccess/daViewCombat.js","src/modules/app/combat/view.js","src/modules/logs/playerLogWidgets/getCombat.js","src/modules/logs/playerLogWidgets/addPvPSummary.js","src/modules/logs/playerLogWidgets/isAllyEnemy.js","src/modules/logs/playerLogWidgets/colorPlayers.js","src/modules/logs/playerLogWidgets/interceptLinks.js","src/modules/logs/playerLogWidgets/notification.js","src/modules/logs/playerLogWidgets/processLadder.js","src/modules/logs/playerLogWidgets/addLogWidgets.js","src/modules/logs/playerLogWidgets/changeLabels.js","src/modules/logs/playerLog.js"],"sourcesContent":null,"names":["memberPrm","async","isGuildMate","playerName","currentGuildId","entries","getMembrList","filter","value","isObject","map","key","getKeys","includes","getPlayer","r","getTextTrim","cells","children","guildTest","name","addAttack","trade","querySelector","insertHtmlAfterEnd","attackplayerUrl","doIgnoreLink","a","closestTd","nextElementSibling","setText","doAddIgnore","daViewCombat","id","callApp","cmd","subcmd","combat_id","appViewCombat","combatPrm","newCache","currentCombatRecord","sevenDays","val","logTime","prepareCache","internal","get","lastCheck","nowSecs","oneDay","filtered","partial","recent","fromEntries","set","getRecent","getCombat","combatId","combatCache","thisCombat","s","parseDateAsTimestamp","newCombat","isPvp","combatSelector","notGuildCombat","msgHtml","test","getCombats","exec","result","stat","desc","color","addCommas","highlightSpecials","acc","el","params","updateTd","json","pre","getText","firstChild","parseCombatWinner","summaryDiv","xp_gain","gold_gain","gold_stolen","pvp_prestige_gain","pvp_rating_change","specials","reduce","parseCombat","remove","insertHtmlAfterBegin","insertElement","createDiv","innerHTML","justUsername","obj","username","allyPrm","getAllyEnemy","stats","myStats","_allies","_enemies","isAlly","isEnemy","playerType","type","guildMate","ally","enemy","Promise","all","closestTr","rowIndex","byType","style","push","colorLookup","guild","makeStyle","selectors","join","colorPlayers","logTable","playerLinks","querySelectorArray","playerLinkSelector","length","playersToColor","playerStyles","messageHeader","rows","insertHtmlBeforeEnd","doMsgHeader","classList","add","document","body","createStyle","childText","target","arrayFrom","childNodes","getChildNodes","needToParse","btnText","chatSelector","isChat","getValue","getBuffId","nick","thisBuff","buffList","find","buffObj","csvSplit","nicks","toLowerCase","thisNick","intercept","e","msgNodesArray","slice","msg","tip","substring","window","openQuickMsgDialog","parseReply","preventDefault","buffs","ids","b","openQuickBuffByName","parseBuffs","isNote","row","noteSelector","addIgnore","otherLinks","addAttackLinkToLog","playerId","playerIDRE","href","attackLink","parentNode","tradeUrl","secureUrl","lastLadderReset","ladderRe","pvp","saveLastResetTime","setValue","defLastLadderReset","foundLogTable","onclick","interceptLinks","addIgnoreLink","forEach","addIgnoreLinks","chatImg","withPlayer","gm","addAttackLink","nameNotes","notification","changeLables","processLadder","combatLinks","notGuild","addPvPSummary","addLogColoring","jQueryNotPresent","addLogWidgets"],"mappings":"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","sourceRoot":"https://rawcdn.githack.com/fallenswordhelper/fallenswordhelper/15.24.21"}