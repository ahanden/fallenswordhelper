import{a as T}from"./chunk-WCK4FP6S.js";import{a as I}from"./chunk-LHT35R35.js";import"./chunk-SYQA2O7R.js";import"./chunk-OXGD46RT.js";import"./chunk-QDNGOWRP.js";import{a as E}from"./chunk-VMCNYWQQ.js";import"./chunk-4MFIQJXK.js";import{a as v}from"./chunk-G7W54KFQ.js";import"./chunk-ZM6HBKU4.js";import"./chunk-WLV3S4QF.js";import{a as m}from"./chunk-W5GFA5ST.js";import"./chunk-CGMJZDEW.js";import{a as x}from"./chunk-RYE3L7GQ.js";import{a as B}from"./chunk-J5XNY3JU.js";import"./chunk-IQW2ORO4.js";import{g as P}from"./chunk-ZTAYAK6U.js";import"./chunk-QTCGGVVS.js";import"./chunk-7L7VBHFN.js";import"./chunk-7P2FG6TX.js";import"./chunk-LXEIN7K6.js";import{a as C}from"./chunk-7FSBX4F6.js";import"./chunk-FOD25WME.js";import"./chunk-RSDTLHOA.js";import{a}from"./chunk-CRTXBDKV.js";import{a as w}from"./chunk-NB536QSB.js";import{b as s}from"./chunk-32VOUESG.js";import{a as o}from"./chunk-WIXXQZGK.js";import"./chunk-VAF5SHD2.js";import"./chunk-7OIIEMPN.js";import"./chunk-G6KH6V7U.js";import{a as f}from"./chunk-JTZMGYZZ.js";import"./chunk-ZSG7IXEN.js";import"./chunk-MC5PPM6O.js";import"./chunk-3HBYM6UL.js";import"./chunk-NYKMXDP7.js";import{a as y}from"./chunk-QZ2N7BU4.js";import{a as r}from"./chunk-2PPLUYZS.js";import{b as k}from"./chunk-CJBVZNBW.js";import"./chunk-LBZNNC2Y.js";import"./chunk-6VTPYDCU.js";import"./chunk-7SWYICSP.js";import"./chunk-L67WY5JB.js";import{S as h,p as b}from"./chunk-M7EFODKE.js";import"./chunk-N5EIINNY.js";function p(e){return T({data:{cmd:"composing",subcmd:"dobreakdown",item_list:e},dataType:"json"})}var l,d;function N(e){let t=e.id.replace(`${d}-item-`,"");l[t]&&l[t].craft==="Perfect"&&E(e)}function j(){let e=y("selectable-item",o(`${d}-items`));e.length!==0&&e.forEach(N)}function A(e){l=e.items;let t=x({className:"fshAC"});m(t,'<button class="fshBl">Perfect</button>'),B(s,t),r(t,j)}function u(e){a()||(d=e,I().then(A))}var c="disableBreakdownPrompts",i,n=[];function D(e){e.hide()}function F(e,t){e.animate({height:0},500,t)}function H(){let e=$("#composingMessageContainer");e.animate({opacity:0},500,f(F,e,f(D,e)))}function O(e,t){return $("<div/>",{id:"composingMessageText"}).css({width:"90%","text-align":"center","background-color":t,color:"rgb(255, 255, 255)",margin:"5px auto 5px auto",padding:"2px"}).html(e)}function M(e,t){$("#composingMessageContainer").remove(),$("#composingMessage").append($("<div/>",{id:"composingMessageContainer",width:"100%"}).append(O(e,t))),setTimeout(H,5e3)}function Q(e){e.error!==0?M(`Error: ${e.msg}`,"rgb(164, 28, 28)"):v(`${h+b}breakdown&m=1`)}function V(){p(n).then(Q)}function L(e){if(e.stopPropagation(),n.length===0){M("Error: No items selected.","rgb(164, 28, 28)");return}V()}function R(e){i&&e.target.id==="breakdown-selected-items"&&L(e)}function S(e){if(!w("selectable-item",e.target))return;let t=e.target.id.replace("composing-item-",""),g=n.indexOf(t);g===-1?n.push(t):n.splice(g,1)}function U(){i=!i,C(c,i)}function _(){m(s,`<table class="fshTblCenter"><tbody>${P(c)}</tbody></table>`)}function q(){r(o("breakdown-selected-items").parentNode,R,!0),r(o("composing-items"),S),r(o(c),U)}function z(){a()||(u("composing"),i=k(c),_(),q())}export{z as default};
//# sourceMappingURL=breakdown-RYYOSX5S.js.map
