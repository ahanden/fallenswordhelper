import{a as Ve}from"./chunk-V6GVUJKR.js";import{a as Ge,b as Le,c as Me}from"./chunk-JHYA6N74.js";import"./chunk-E7X4C3NG.js";import"./chunk-S35JPKT6.js";import{a as Fe}from"./chunk-KDLXTPP3.js";import"./chunk-6UTX7IZX.js";import"./chunk-NSJZQNHD.js";import"./chunk-WKW6ACFU.js";import"./chunk-MD2EH2NG.js";import"./chunk-UQ7V6CON.js";import{a as Ue}from"./chunk-C5MJCIJS.js";import"./chunk-JHU4ZN26.js";import{$ as T,B as L,E as V,F as K,G as x,M as Q,O as Be,P as Pe,Q as q,R as C,T as X,U as Y,Y as A,Z as j,_ as E,a as $,aa as R,b as O,d as N,e as P,o as b,p as k,q as w,r as z,s as S,t as U,u as y,v as J,w as M,z as v}from"./chunk-HFFCEKOB.js";import{a as De}from"./chunk-CMTIFN7U.js";import{a as we}from"./chunk-WWOA75CA.js";import"./chunk-I66ZLTG4.js";import"./chunk-G7W54KFQ.js";import{a as Te}from"./chunk-FP47BXBU.js";import{a as He}from"./chunk-H7QQAWWL.js";import"./chunk-PF6DJFMF.js";import"./chunk-5J6NAHWT.js";import"./chunk-ZEAPOVBT.js";import"./chunk-WLV3S4QF.js";import"./chunk-2R5YWF5Y.js";import"./chunk-W5GFA5ST.js";import{a as Re}from"./chunk-AQVHZUV2.js";import"./chunk-4EQLU7T2.js";import"./chunk-NJOQ3NDV.js";import"./chunk-CGMJZDEW.js";import{a as ye}from"./chunk-DVLPAFXM.js";import"./chunk-OOBHF62J.js";import{a as Ie}from"./chunk-VBWDODYG.js";import{a as Ce}from"./chunk-QIL4FZV2.js";import"./chunk-IZXJJTGC.js";import"./chunk-2OWDZVNG.js";import"./chunk-5W6U5QAI.js";import"./chunk-R2CSY5SF.js";import"./chunk-UGP7SKGY.js";import{a as Ne}from"./chunk-GYYOLXQ5.js";import"./chunk-3PRUC7MJ.js";import"./chunk-AM4ECP4R.js";import"./chunk-L4652TKI.js";import"./chunk-2EFDXXYQ.js";import{a as Ae}from"./chunk-2XEVBCYQ.js";import{a as Ee}from"./chunk-UVOACIBU.js";import"./chunk-7L7VBHFN.js";import{a as je}from"./chunk-7P2FG6TX.js";import{a as qe}from"./chunk-B4BQ57SA.js";import"./chunk-LXEIN7K6.js";import"./chunk-CRTXBDKV.js";import{a as Z}from"./chunk-45BD32DP.js";import"./chunk-LAUHQKKR.js";import"./chunk-F4LPB54K.js";import{b as Se}from"./chunk-32VOUESG.js";import{a as be}from"./chunk-WIXXQZGK.js";import"./chunk-7OIIEMPN.js";import"./chunk-G6KH6V7U.js";import"./chunk-JTZMGYZZ.js";import"./chunk-PD7IT5U3.js";import"./chunk-IYLDI6QO.js";import"./chunk-ZSG7IXEN.js";import"./chunk-MC5PPM6O.js";import"./chunk-3HBYM6UL.js";import"./chunk-NYKMXDP7.js";import"./chunk-CJBVZNBW.js";import"./chunk-LBZNNC2Y.js";import"./chunk-6VTPYDCU.js";import"./chunk-L67WY5JB.js";import{Ia as ke,b as F}from"./chunk-M7EFODKE.js";import"./chunk-N5EIINNY.js";function rt(n){let e;return{c(){e=U(n[1])},m(t,l){k(t,e,l)},p(t,l){l&2&&L(e,t[1])},d(t){t&&w(e)}}}function lt(n){let e,t;return{c(){e=S("img"),v(e,"alt","Flag"),P(e.src,t=F+"ui/arena/specials_"+n[2](n[1])+".png")||v(e,"src",t)},m(l,r){k(l,e,r)},p(l,r){r&2&&!P(e.src,t=F+"ui/arena/specials_"+l[2](l[1])+".png")&&v(e,"src",t)},d(l){l&&w(e)}}}function it(n){let e,t,l,r,i;function o(h,f){return typeof h[1]=="boolean"?lt:rt}let m=o(n,-1),s=m(n);return{c(){e=S("div"),t=S("div"),l=U(n[0]),r=y(),i=S("div"),s.c(),v(t,"class","top svelte-yr50ap"),v(i,"class","bottom svelte-yr50ap")},m(h,f){k(h,e,f),b(e,t),b(t,l),b(e,r),b(e,i),s.m(i,null)},p(h,[f]){f&1&&L(l,h[0]),m===(m=o(h,f))&&s?s.p(h,f):(s.d(1),s=m(h),s&&(s.c(),s.m(i,null)))},i:$,o:$,d(h){h&&w(e),s.d()}}}function ot(n,e,t){let{title:l=""}=e,{flag:r=0}=e,i=o=>String(Number(o));return n.$$set=o=>{"title"in o&&t(0,l=o.title),"flag"in o&&t(1,r=o.flag)},[l,r,i]}var ee=class extends R{constructor(e){super(),T(this,e,ot,it,N,{title:0,flag:1})}},W=ee;function te(n){return Ge({subcmd:"usesetup",set_id:n})}function We(n,e,t){let l=n.slice();return l[7]=e[t],l}function ze(n,e,t){let l=n.slice();return l[10]=e[t].id,l[11]=e[t].name,l}function Je(n){let e,t=n[11]+"",l,r;return{c(){e=S("option"),l=U(t),e.__value=r=n[10],e.value=e.__value},m(i,o){k(i,e,o),b(e,l)},p(i,o){o&4&&t!==(t=i[11]+"")&&L(l,t),o&4&&r!==(r=i[10])&&(e.__value=r,e.value=e.__value)},d(i){i&&w(e)}}}function Oe(n){let e,t;return{c(){e=S("img"),v(e,"alt","Move"),P(e.src,t=F+"arena/"+(n[7]?n[7]-1:"x")+".png")||v(e,"src",t)},m(l,r){k(l,e,r)},p(l,r){r&1&&!P(e.src,t=F+"arena/"+(l[7]?l[7]-1:"x")+".png")&&v(e,"src",t)},d(l){l&&w(e)}}}function at(n){let e,t,l,r,i,o,m=n[2],s=[];for(let u=0;u<m.length;u+=1)s[u]=Je(ze(n,m,u));let h=n[0].slots,f=[];for(let u=0;u<h.length;u+=1)f[u]=Oe(We(n,h,u));return{c(){e=S("div"),t=S("select");for(let u=0;u<s.length;u+=1)s[u].c();l=y(),r=S("div");for(let u=0;u<f.length;u+=1)f[u].c();v(t,"class","svelte-l2bu6v"),n[1]===void 0&&Q(()=>n[5].call(t)),v(e,"class","ams svelte-l2bu6v"),v(r,"class","amf svelte-l2bu6v")},m(u,c){k(u,e,c),b(e,t);for(let a=0;a<s.length;a+=1)s[a].m(t,null);V(t,n[1]),k(u,l,c),k(u,r,c);for(let a=0;a<f.length;a+=1)f[a].m(r,null);i||(o=[M(t,"change",n[5]),M(t,"change",n[3])],i=!0)},p(u,[c]){if(c&4){m=u[2];let a;for(a=0;a<m.length;a+=1){let g=ze(u,m,a);s[a]?s[a].p(g,c):(s[a]=Je(g),s[a].c(),s[a].m(t,null))}for(;a<s.length;a+=1)s[a].d(1);s.length=m.length}if(c&6&&V(t,u[1]),c&1){h=u[0].slots;let a;for(a=0;a<h.length;a+=1){let g=We(u,h,a);f[a]?f[a].p(g,c):(f[a]=Oe(g),f[a].c(),f[a].m(r,null))}for(;a<f.length;a+=1)f[a].d(1);f.length=h.length}},i:$,o:$,d(u){u&&w(e),z(s,u),u&&w(l),u&&w(r),z(f,u),i=!1,O(o)}}}function st(n,e,t){let{res:l=0}=e,r=0,i=0,o=0,m=({slots:f})=>f.join()===r.slots.join();(function(){t(0,r=l.current_set),t(2,o=[...l.sets.some(m)?[]:[r],...l.sets]),t(1,i=o.find(m).id)})();async function s(){await te(i),t(0,r=o.find(({id:f})=>f===i))}function h(){i=K(this),t(1,i),t(2,o)}return n.$$set=f=>{"res"in f&&t(4,l=f.res)},[r,i,o,s,l,h]}var ne=class extends R{constructor(e){super(),T(this,e,st,at,N,{res:4})}},Ke=ne;function mt(n){let e,t,l,r=n[5].message+"",i;return{c(){e=S("div"),t=S("div"),l=S("p"),i=U(r),v(l,"class","svelte-15i8mhg"),v(e,"class","ajf svelte-15i8mhg")},m(o,m){k(o,e,m),b(e,t),b(t,l),b(l,i)},p:$,i:$,o:$,d(o){o&&w(e)}}}function ft(n){let e,t,l,r,i,o,m,s,h,f,u,c,a;t=new W({props:{title:"Players",flag:n[1].players.length+" / "+n[1].max_players}}),r=new W({props:{title:"Specials",flag:n[1].specials}}),o=new W({props:{title:"Hell Forge",flag:n[1].hellforge}}),s=new W({props:{title:"Epic",flag:n[1].epic}}),f=new W({props:{title:"Max Equip Level",flag:Z(n[1].equip_level)}});let g=n[1].specials&&Qe(n);return{c(){e=S("div"),A(t.$$.fragment),l=y(),A(r.$$.fragment),i=y(),A(o.$$.fragment),m=y(),A(s.$$.fragment),h=y(),A(f.$$.fragment),u=y(),g&&g.c(),c=J(),v(e,"class","ajf svelte-15i8mhg")},m(p,d){k(p,e,d),j(t,e,null),b(e,l),j(r,e,null),b(e,i),j(o,e,null),b(e,m),j(s,e,null),b(e,h),j(f,e,null),k(p,u,d),g&&g.m(p,d),k(p,c,d),a=!0},p(p,d){let D={};d&2&&(D.flag=p[1].players.length+" / "+p[1].max_players),t.$set(D);let H={};d&2&&(H.flag=p[1].specials),r.$set(H);let G={};d&2&&(G.flag=p[1].hellforge),o.$set(G);let _={};d&2&&(_.flag=p[1].epic),s.$set(_);let I={};d&2&&(I.flag=Z(p[1].equip_level)),f.$set(I),p[1].specials?g?(g.p(p,d),d&2&&q(g,1)):(g=Qe(p),g.c(),q(g,1),g.m(c.parentNode,c)):g&&(Be(),C(g,1,1,()=>{g=null}),Pe())},i(p){a||(q(t.$$.fragment,p),q(r.$$.fragment,p),q(o.$$.fragment,p),q(s.$$.fragment,p),q(f.$$.fragment,p),q(g),a=!0)},o(p){C(t.$$.fragment,p),C(r.$$.fragment,p),C(o.$$.fragment,p),C(s.$$.fragment,p),C(f.$$.fragment,p),C(g),a=!1},d(p){p&&w(e),E(t),E(r),E(o),E(s),E(f),p&&w(u),g&&g.d(p),p&&w(c)}}}function Qe(n){let e,t,l;return t=new Ke({props:{res:n[0]}}),{c(){e=S("div"),A(t.$$.fragment),v(e,"class","ajf svelte-15i8mhg")},m(r,i){k(r,e,i),j(t,e,null),l=!0},p(r,i){let o={};i&1&&(o.res=r[0]),t.$set(o)},i(r){l||(q(t.$$.fragment,r),l=!0)},o(r){C(t.$$.fragment,r),l=!1},d(r){r&&w(e),E(t)}}}function ut(n){return{c:$,m:$,p:$,i:$,o:$,d:$}}function ct(n){let e,t,l,r={ctx:n,current:null,token:null,hasCatch:!0,pending:ut,then:ft,catch:mt,error:5,blocks:[,,,]};return X(t=n[2](),r),{c(){e=J(),r.block.c()},m(i,o){k(i,e,o),r.block.m(i,r.anchor=o),r.mount=()=>e.parentNode,r.anchor=e,l=!0},p(i,[o]){n=i,Y(r,n,o)},i(i){l||(q(r.block),l=!0)},o(i){for(let o=0;o<3;o+=1){let m=r.blocks[o];C(m)}l=!1},d(i){i&&w(e),r.block.d(i),r.token=null,r=null}}}function pt(n,e,t){let l=Number(we("pvp_id")),r=0,i=0,o=s=>s.arenas.find(h=>h.id===l);async function m(){let s=await Le();if(s.s)t(0,r=s.r),t(1,i=o(s.r));else throw new Error(s.e.message)}return[r,i,m]}var re=class extends R{constructor(e){super(),T(this,e,pt,ct,N,{})}},Xe=re;function Ye(n){let e,t,l,r;return{c(){e=S("img"),v(e,"alt",t=n[0].name),P(e.src,l=n[2](n[0]))||v(e,"src",l),v(e,"class","tip-dynamic"),v(e,"data-tipped",r=n[3](n[0]))},m(i,o){k(i,e,o)},p(i,o){o&1&&t!==(t=i[0].name)&&v(e,"alt",t),o&1&&!P(e.src,l=i[2](i[0]))&&v(e,"src",l),o&1&&r!==(r=i[3](i[0]))&&v(e,"data-tipped",r)},d(i){i&&w(e)}}}function _t(n){let e,t=n[0]&&Ye(n);return{c(){e=S("div"),t&&t.c(),v(e,"class","svelte-9jxv8s"),x(e,"lrg",n[1])},m(l,r){k(l,e,r),t&&t.m(e,null)},p(l,[r]){l[0]?t?t.p(l,r):(t=Ye(l),t.c(),t.m(e,null)):t&&(t.d(1),t=null),r&2&&x(e,"lrg",l[1])},i:$,o:$,d(l){l&&w(e),t&&t.d()}}}function gt(n,e,t){let{item:l=0}=e,{lrg:r=0}=e,i=m=>`${F}items/${m.b}.gif`,o=m=>`fetchitem.php?item_id=${m.b}&inv_id=${m.a}&t=1&p=${Te()}`;return n.$$set=m=>{"item"in m&&t(0,l=m.item),"lrg"in m&&t(1,r=m.lrg)},[l,r,i,o]}var le=class extends R{constructor(e){super(),T(this,e,gt,_t,N,{item:0,lrg:1})}},B=le;function dt(n){let e,t,l,r,i,o,m,s,h,f,u,c,a,g,p,d,D,H,G;return t=new B({props:{item:n[1](n[0],"Gloves")}}),r=new B({props:{item:n[1](n[0],"Helmet")}}),o=new B({props:{item:n[1](n[0],"Amulet")}}),s=new B({props:{lrg:1,item:n[1](n[0],"Weapon")}}),f=new B({props:{lrg:1,item:n[1](n[0],"Armor")}}),c=new B({props:{lrg:1,item:n[1](n[0],"Shield")}}),g=new B({props:{item:n[1](n[0],"Ring")}}),d=new B({props:{item:n[1](n[0],"Boots")}}),H=new B({props:{item:n[1](n[0],"Rune")}}),{c(){e=S("div"),A(t.$$.fragment),l=y(),A(r.$$.fragment),i=y(),A(o.$$.fragment),m=y(),A(s.$$.fragment),h=y(),A(f.$$.fragment),u=y(),A(c.$$.fragment),a=y(),A(g.$$.fragment),p=y(),A(d.$$.fragment),D=y(),A(H.$$.fragment),v(e,"class","grid svelte-630zmj")},m(_,I){k(_,e,I),j(t,e,null),b(e,l),j(r,e,null),b(e,i),j(o,e,null),b(e,m),j(s,e,null),b(e,h),j(f,e,null),b(e,u),j(c,e,null),b(e,a),j(g,e,null),b(e,p),j(d,e,null),b(e,D),j(H,e,null),G=!0},p(_,[I]){let ue={};I&1&&(ue.item=_[1](_[0],"Gloves")),t.$set(ue);let ce={};I&1&&(ce.item=_[1](_[0],"Helmet")),r.$set(ce);let pe={};I&1&&(pe.item=_[1](_[0],"Amulet")),o.$set(pe);let _e={};I&1&&(_e.item=_[1](_[0],"Weapon")),s.$set(_e);let ge={};I&1&&(ge.item=_[1](_[0],"Armor")),f.$set(ge);let de={};I&1&&(de.item=_[1](_[0],"Shield")),c.$set(de);let he={};I&1&&(he.item=_[1](_[0],"Ring")),g.$set(he);let $e={};I&1&&($e.item=_[1](_[0],"Boots")),d.$set($e);let ve={};I&1&&(ve.item=_[1](_[0],"Rune")),H.$set(ve)},i(_){G||(q(t.$$.fragment,_),q(r.$$.fragment,_),q(o.$$.fragment,_),q(s.$$.fragment,_),q(f.$$.fragment,_),q(c.$$.fragment,_),q(g.$$.fragment,_),q(d.$$.fragment,_),q(H.$$.fragment,_),G=!0)},o(_){C(t.$$.fragment,_),C(r.$$.fragment,_),C(o.$$.fragment,_),C(s.$$.fragment,_),C(f.$$.fragment,_),C(c.$$.fragment,_),C(g.$$.fragment,_),C(d.$$.fragment,_),C(H.$$.fragment,_),G=!1},d(_){_&&w(e),E(t),E(r),E(o),E(s),E(f),E(c),E(g),E(d),E(H)}}}function ht(n,e,t){let{equipment:l=0}=e,r=(i,o)=>i&&i.find(m=>m.t===ke.indexOf(o));return n.$$set=i=>{"equipment"in i&&t(0,l=i.equipment)},[l,r]}var ie=class extends R{constructor(e){super(),T(this,e,ht,dt,N,{equipment:0})}},Ze=ie;async function oe(n){let e=await Ee({cmd:"profile",subcmd:"managecombatset",submit:"Use",combatSetId:n});return Ve(e)}function ae(n){return He({subcmd:"usecombatset",combatSetId:n})}function se(n){return Re(ae,oe,n)}function xe(n,e,t){let l=n.slice();return l[9]=e[t].id,l[10]=e[t].name,l}function $t(n){return{c:$,m:$,p:$,i:$,o:$,d:$}}function vt(n){let e,t,l,r,i,o,m,s,h,f,u=n[1],c=[];for(let a=0;a<u.length;a+=1)c[a]=et(xe(n,u,a));return m=new Ze({props:{equipment:n[0]}}),{c(){e=S("div"),t=S("div"),l=S("div"),r=U(`Inventory
        `),i=S("select");for(let a=0;a<c.length;a+=1)c[a].c();o=y(),A(m.$$.fragment),v(i,"class","svelte-wrxyiv"),n[2]===void 0&&Q(()=>n[5].call(i)),v(l,"class","flex svelte-wrxyiv"),v(t,"class","innerColumnHeader svelte-wrxyiv")},m(a,g){k(a,e,g),b(e,t),b(t,l),b(l,r),b(l,i);for(let p=0;p<c.length;p+=1)c[p].m(i,null);V(i,n[2]),b(e,o),j(m,e,null),s=!0,h||(f=[M(i,"change",n[5]),M(i,"change",n[4])],h=!0)},p(a,g){if(g&2){u=a[1];let d;for(d=0;d<u.length;d+=1){let D=xe(a,u,d);c[d]?c[d].p(D,g):(c[d]=et(D),c[d].c(),c[d].m(i,null))}for(;d<c.length;d+=1)c[d].d(1);c.length=u.length}g&6&&V(i,a[2]);let p={};g&1&&(p.equipment=a[0]),m.$set(p)},i(a){s||(q(m.$$.fragment,a),s=!0)},o(a){C(m.$$.fragment,a),s=!1},d(a){a&&w(e),z(c,a),E(m),h=!1,O(f)}}}function et(n){let e,t=n[10]+"",l,r;return{c(){e=S("option"),l=U(t),e.__value=r=n[9],e.value=e.__value},m(i,o){k(i,e,o),b(e,l)},p(i,o){o&2&&t!==(t=i[10]+"")&&L(l,t),o&2&&r!==(r=i[9])&&(e.__value=r,e.value=e.__value)},d(i){i&&w(e)}}}function bt(n){return{c:$,m:$,p:$,i:$,o:$,d:$}}function kt(n){let e,t,l,r={ctx:n,current:null,token:null,hasCatch:!1,pending:bt,then:vt,catch:$t,blocks:[,,,]};return X(t=n[3](),r),{c(){e=J(),r.block.c()},m(i,o){k(i,e,o),r.block.m(i,r.anchor=o),r.mount=()=>e.parentNode,r.anchor=e,l=!0},p(i,[o]){n=i,Y(r,n,o)},i(i){l||(q(r.block),l=!0)},o(i){for(let o=0;o<3;o+=1){let m=r.blocks[o];C(m)}l=!1},d(i){i&&w(e),r.block.d(i),r.token=null,r=null}}}function wt(n,e,t){let l=0,r=0,i=0,o=({a:c})=>l.some(({a})=>a===c),m=({items:c})=>c.every(o);async function s(){let[c,a]=await Ne([Ue(),De()]);t(0,l=c.r.equipment);let g=a.r.find(m);t(2,i=g?.id??-1),t(1,r=[...g?[]:[{id:-1,name:"Primary",items:l}],...a.r])}let h=c=>Ce('table[width="300"] b',c).slice(1).map(a=>Ie("td",a.parentNode.nextElementSibling.children[0]));async function f(){await se(i);let c=await je(window.location.href);t(0,l=r.find(({id:p})=>p===i).items);let a=Ae(c),g=h(a).map(p=>qe(p));h().forEach((p,d)=>ye(g[d],p))}function u(){i=K(this),t(2,i),t(1,r)}return[l,r,i,s,f,u]}var me=class extends R{constructor(e){super(),T(this,e,wt,kt,N,{})}},tt=me;function St(n){let e,t,l,r;return e=new Xe({}),l=new tt({}),{c(){A(e.$$.fragment),t=y(),A(l.$$.fragment)},m(i,o){j(e,i,o),k(i,t,o),j(l,i,o),r=!0},p:$,i(i){r||(q(e.$$.fragment,i),q(l.$$.fragment,i),r=!0)},o(i){C(e.$$.fragment,i),C(l.$$.fragment,i),r=!1},d(i){E(e,i),i&&w(t),E(l,i)}}}var fe=class extends R{constructor(e){super(),T(this,e,null,St,N,{})}},nt=fe;function qt(n){return new n({target:Se})}function Ct(){be("arenaTypeTabs")?Me():(Fe(),qt(nt))}export{Ct as default};
//# sourceMappingURL=arenaJoin-I5OKFMPQ.js.map
