function e(e,n){return e||n}const n=e=>Array.isArray(e)
function t(e){return"function"==typeof e}function a(e){return void 0===e}function o(e,n,t,a){e instanceof EventTarget&&e.addEventListener(n,t,a)}function i(e){return e instanceof Error?function(e){return e.stack?function(e){const n=e.stack.replace(/\n +/g,"|")
return e.stack.includes(e.message)?n:`${e.message}|${n}`}(e):e.message?e.message:String(e)}(e):String(e)}var s={}
function r(e,n){return n?n.getElementById(e):document.getElementById(e)}function c(e,n,t){e instanceof Element&&e.insertAdjacentHTML(n,t)}function l(e,n){c(e,"beforeend",n)}const u={}
let d,f
function p(e,n){d||(d=r("foot-wrap")),d&&l(d,`<br>${e}: ${n} (${typeof n})`)}function m(e){e&&(u[e]=1e3*performance.now())}function h(e){u[e]&&(p(e,`${Math.round(1e3*performance.now()-u[e])/1e3}ms`),delete u[e])}function g(e){if(e instanceof Node)return e.textContent}function b(){return f||(f=Number(g(r("holdtext")).match(/fallensword.com\/\?ref=(\d+)/)[1])),f}const y={},v=["pagereboot.com","refreshthing.com","refreshthis.com","lazywebtools.co.uk"],w=[[/&m=.*/],[/&subcmd=&.*/],[/&subcmd2=&.*/],[/&[a-z_]+_id=.+/],[/&id=.+/],[/&target_player=.+/],[/&[a-z]+_username=.+/],[/\?cmd=auctionhouse.+/,"?cmd=auctionhouse"],[/&subcmd=[0-9a-f]{32}/],[/&search_active=.+/],[/&letter=.+/],[/&guild_name=.+/],[/&user=.+/],[/&[a-z_]*page=.+/],[/&prestige=.+/],[/&withdraw_amount=.+/],[/&amount=.+/],[/&tickets=.+/],[/&search=.+/],[/&target=.+/],[/&xcv=[0-9a-f]{32}/],[/\?ref=[0-9]+/]]
function k(){return function(){let e=document.referrer.match(/^https?:\/\/([^/?#]+)(?:[/?#]|$)/i)
return e&&([,e]=e),v.includes(e)}()||a(window.ga)}function L(e,n,t){k()||(y[`${e}:${n}:${t}`]=1e3*performance.now())}function S(e,n,t){k()||function(e,n,t){const a=Math.round(1e3*performance.now()-y[`${e}:${n}:${t}`])/1e3
a>10&&ga("fshApp.send","timing",e,n,Math.round(a),t),p(n,`${a}ms`)}(e,n,t)}function x(e,n){return e.replace(n[0],n[1]||"")}function A(){k()||(ga("create","UA-76488113-1","auto","fshApp",{userId:b(),siteSpeedSampleRate:10}),ga("fshApp.set","appName","fshApp"),ga("fshApp.set","appVersion",`${s.fshVer}(${s.calfVer})`),ga("create","UA-76488113-2","auto","fsh",{userId:b(),siteSpeedSampleRate:10}),function(){const e=window.location.pathname+window.location.search,n=w.reduce(x,e)
ga("fsh.set","page",n)}(),ga("fsh.send","pageview"))}function C(e){k()||ga("fshApp.send","screenview",{screenName:e})}function P(e,n,t){k()||ga("fshApp.send","event",e,n,t)}function M(e,n){console.log("sendException",e),k()||ga("fshApp.send","exception",{exDescription:e,exFatal:n})}const T=[null]
function j(e,n){return T[e]&&T[e].priority<T[n].priority}function N(e,n){const t=T[e]
T[e]=T[n],T[n]=t}function B(e,n){return e?2*n:2*n+1}function G(){if(1===T.length)return
const e=T[1].data,n=T.pop()
return T.length>1&&(T[1]=n,function(e){let n=e
for(;2*n<T.length;){const e=B(!j(2*n+1,2*n),n)
if(j(n,e))break
N(n,e),n=e}}(1)),e}function E(e,n){!function(e){let n=e
for(;n>1;){const e=n>>1
if(!j(n,e))break
N(n,e),n=e}}(T.push({data:e,priority:n})-1)}let H=!0
let D,O,_,I,R,q,F
function Q(){T.length-1==0?H=!0:(H=!1,window.postMessage("fshMessage","*"))}function W(){const e=G()
var n
t(e)?e():a(n=e)||M(`pop() was not a function (${typeof n})`,!1)}function U(e){const n=e.data
"string"==typeof n&&0===n.indexOf("fshMessage")&&function(){try{W()}catch(e){M(i(e),!1)}finally{Q()}}()}function J(a,i,s,r){if(function(e){e&&!n(e)&&console.log("addTask isArray(args)",n(e))}(s),t(i)){D||(o(window,"message",U),D=!0)
const n=e(r,window),t=e(s,[])
E(i.bind(n,...t),a),H&&Q()}}function z(e,n,t,a){e instanceof EventTarget&&e.removeEventListener(n,t,a)}function V(e){return"boolean"==typeof e}function K(e,n,t,a){var i
o(e,n,t,{once:!0,...(i=a,V(i)?{capture:i}:i)})}function X(e,...n){return e.bind(e,...n)}function Y(e){_=e.clientX,I=e.clientY}function Z(){const e=function(e){if("none"===e)return[0,0]
const n=e.match(/(\d+), (\d+), (\d+), (\d+), (-?\d+), (-?\d+)/)
return[Number(n[5]),Number(n[6])]}(window.getComputedStyle(O,null).transform)
R=e[0]-_,q=e[1]-I}function ee(e){e.clientX===_&&e.clientY===I||(O.style.transform=`matrix(1, 0, 0, 1, ${(e.clientX+R).toString()}, ${(e.clientY+q).toString()})`,Y(e))}function ne(e){return function(e){const n=performance.now()
n-F>16&&(ee(e),F=n)}(e),e.preventDefault(),!1}function te(e){return ee(e),z(document.body,"dragover",ne),e.preventDefault(),!1}function ae(e,n){!function(e,n){O=e||n.target}(e,n),function(e){const n=new Image
n.src="data:image/gif;base64,R0lGODlhAQABAIAAAAUEBAAAACwAAAAAAQABAAACAkQBADs=",e.dataTransfer.setDragImage(n,0,0)}(n),Y(n),Z(),F=0,n.dataTransfer.setData("text/plain",""),o(document.body,"dragover",ne),K(document.body,"drop",te)}function oe(e,n){e.draggable=!0,o(e,"dragstart",X(ae,n))}function ie(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}const se=`${document.location.protocol}//${document.location.host}/`,re=window.HCS&&window.HCS.defines&&window.HCS.defines.cdn,ce=[{colour:"#ffffff",clas:"fshCommon"},{colour:"#0099ff",clas:"fshRare"},{colour:"#cc00ff",clas:"fshUnique"},{colour:"#ffff33",clas:"fshLegendary"},{colour:"#cc0033",clas:"fshSuper"},{colour:"#6633ff",clas:"fshCrystal"},{colour:"#009900",clas:"fshEpic"}],le=["first","second","third","fourth","fifth","sixth","seventh","eighth","ninth","tenth","eleventh","twelfth","thirteenth","fourteenth"],ue=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],de=[/<td>Attack:<\/td><td>(\d+)<\/td>/,/<td>Defense:<\/td><td>(\d+)<\/td>/,/<td>Armor:<\/td><td>(\d+)<\/td>/,/<td>Damage:<\/td><td>(\d+)<\/td>/,/<td>HP:<\/td><td>(\d+)<\/td>/],fe=/<td>Last Activity:<\/td><td>(\d+)d (\d+)h (\d+)m (\d+)s<\/td>/,pe=/player_id=(\d+)/,me=/item_id=(\d+)&inv_id=(\d+)/,he=.2,ge="joinallgroupsundersize",be="index.php",ye="?cmd=",ve="index.php?cmd=",we="&subcmd=",ke="index.php?cmd=notepad&blank=1&subcmd=newguildlog",Le=`${ve}auctionhouse`,$e=`${Le}&search=`,Se=`${ve}log`,xe=`${Se+"&subcmd="}doaddignore&ignore_username=`,Ae=`${ve}profile`,Ce=`${Ae}&player_id=`,Pe=`${Ae+"&subcmd="}dropitems`,Me=`${ve}trade&target_player=`,Te=`${ve}trade&subcmd=createsecure&target_username=`,je=`${ve}arena&subcmd=`,Ne="index.php?cmd=notepad&blank=1&subcmd=",Be=`${Ne}auctionsearch`,Ge=`${ve}points`,Ee=`${ve}guild&subcmd=`,He=`${Ee}log`,De=`${Ee}scouttower`,Oe=`${Ee}groups&subcmd2=`,_e=`${Ee}inventory&subcmd2=report&user=`,Ie=`${Ee}view&guild_id=`,Re=`${Oe}joinall`,qe=Oe+"joinallgroupsundersize",Fe=`${ve}world`,Qe=`${ve}findplayer`,We=`${Qe}&search_show_first=1&search_username=`,Ue=`${ve}blacksmith`,Je=`${ve}quickbuff`,ze=`${ve}composing`,Ve=`${ve}attackplayer&target_username=`,Ke=`${ve+"&subcmd="}viewupdatearchive`,Xe=`${ve+"&subcmd="}viewarchive`,Ye=`${ve}bounty`,Ze=`https://guide.fallensword.com/${ve}`,en="after-update.actionlist",nn="buffs.player",tn="update.player",an="level.stats-player",on="prompt.worldDialogShop",sn="keydown.controls",rn="update.realm",cn="-1-success.action-response",ln="1-success.action-response",un="2-success.action-response",dn="9-success.action-response",fn="5-success.action-response",pn="25-success.action-response",mn=2,hn=16,gn=128,bn=256,yn="needToCompose",vn="lastComposeCheck",wn="characterVirtualLevel",kn="table",Ln="fsh_buffLog",$n="stat-level",Sn="stat-defense",xn="stat-attack",An="stat-damage",Cn="stat-armor",Pn="stat-hp",Mn="stat-vl",Tn="GM_",jn=["Common","Rare","Unique","Legendary","Super Elite","Crystalline"],Nn=["Attack","Defense","Armor","HP","Damage","Stamina","Stamina Gain","Gold Gain","XP Gain"],Bn=["Piercing Strike","Reinforced Armor","Thievery","Critical Hit","Holy","Breaker","Nullify","Banishment","Protection","Oceanic","Master Thief","Protect Gold","Dodge","Disarm","Master Blacksmith","Elite Hunter","Sustain","Master Crafter","Fury Caster","Greenskin Slayer","Beast Slayer","Duelist","Glory Seeker","First Strike","Hypnotize","Master Inventor","Soulless","Temporal Shift"],Gn=["Helmet","Armor","Gloves","Boots","Weapon","Shield","Ring","Amulet","Rune","Quest Item","Potion","Component","Resource","Recipe","Container","Composed","Frag Stash"],En=`${re}ui/world/action_spinner.gif`
var Hn={lastScavPage:"",lastActiveQuestPage:"",lastNormalActiveQuestPage:"",lastNormalCompletedQuestPage:"",lastNormalNotStartedQuestPage:"",lastSeasonalActiveQuestPage:"",lastSeasonalCompletedQuestPage:"",lastSeasonalNotStartedQuestPage:"",enableLogColoring:!1,enableChatParsing:!1,enableCreatureColoring:!1,showCombatLog:!1,showCreatureInfo:!1,keepLogs:!1,showExtraLinks:!1,huntingBuffs:"Doubler,Librarian,Adept Learner,Merchant,Treasure Hunter,Animal Magnetism,Conserve",huntingBuffsName:"default",huntingBuffs2:"Deflect",huntingBuffs2Name:"PvP",huntingBuffs3:"Super Elite Slayer",huntingBuffs3Name:"SE",showHuntingBuffs:!1,moveFSBox:!1,moveDailyQuest:!1,guildSelf:"",guildSelfMessage:"Member of your own guild!",guildFrnd:"",guildFrndMessage:"Do not attack - Guild is friendly!",guildPast:"",guildPastMessage:"Do not attack - You've been in that guild once!",guildEnmy:"",guildEnmyMessage:"Enemy guild. Attack at will!",goldRecipient:"",goldAmount:"",sendGoldonWorld:!1,hideQuests:!1,hideQuestNames:"",hideRecipes:!1,hideRecipeNames:"",enableGuildInfoWidgets:!1,enableOnlineAlliesWidgets:!1,guildOnlineRefreshTime:300,hideGuildInfoSecureTrade:!1,hideGuildInfoTrade:!1,hideGuildInfoMessage:!1,hideGuildInfoBuff:!1,buyBuffsGreeting:"Hello {playername}, can I buy {buffs} for {cost} please?",renderSelfBio:!1,bioEditLines:10,renderOtherBios:!1,playNewMessageSound:!1,showSpeakerOnWorld:!1,defaultMessageSound:"https://fallenswordhelper.github.io/fallenswordhelper/audio/sms-alert-2-daniel_simon.wav",highlightPlayersNearMyLvl:!1,highlightGvGPlayersNearMyLvl:!1,detailedConflictInfo:!1,gameHelpLink:!0,navigateToLogAfterMsg:!1,enableAllyOnlineList:!1,enableEnemyOnlineList:!1,allyEnemyOnlineRefreshTime:300,moveGuildList:!1,moveOnlineAlliesList:!1,hideMatchesForCompletedMoves:!1,doNotKillList:"",enableBioCompressor:!1,currentGoldSentTotal:0,keepBuffLog:!1,buffLog:"",enableActiveBountyList:!1,bountyListRefreshTime:300,enableWantedList:!1,wantedNames:"",wantedGuildMembers:!1,bwNeedsRefresh:!0,fsboxlog:!1,fsboxcontent:"",itemRecipient:"",quickLinks:"[]",enableAttackHelper:!1,minGroupLevel:1,combatEvaluatorBias:0,huntingMode:!1,enabledHuntingMode:"1",hideRelicOffline:!1,enterForSendMessage:!1,trackKillStreak:!1,storeLastQuestPage:!1,addAttackLinkToLog:!1,showStatBonusTotal:!1,newGuildLogHistoryPages:3,useNewGuildLog:!1,enhanceChatTextEntry:!1,ajaxifyRankControls:!1,enableMaxGroupSizeToJoin:!1,maxGroupSizeToJoin:11,enableTempleAlert:!1,enableUpgradeAlert:!1,enableComposingAlert:!1,autoFillMinBidPrice:!1,showPvPSummaryInLog:!1,enableQuickDrink:!1,enhanceOnlineDots:!1,hideBuffSelected:!1,hideHelperMenu:!1,keepHelperMenuOnScreen:!0,draggableHelperMenu:!1,quickLinksTopPx:22,quickLinksLeftPx:0,draggableQuickLinks:!1,showNextQuestSteps:!0,showRecallMessages:!0,showRelicMessages:!0,showMercenaryMessages:!0,showGroupCombatMessages:!0,showDonationMessages:!0,showRankingMessages:!0,showGvGMessages:!0,showTaggingMessages:!0,showTitanMessages:!0,showQuickDropLinks:!1,onlinePlayerMinLvl:1,onlinePlayerMaxLvl:9999,arenaMinLvl:1,arenaMaxLvl:9999,showMonsterLog:!1,lastTempleCheck:0,needToPray:!1,lastChatCheck:"0",lastGuildLogCheck:"0",lastOutBoxCheck:"0",lastPlayerLogCheck:"0",showAdmin:!1,alliestotal:0,enemiestotal:0,footprints:!1,hideNonPlayerGuildLogMessages:!1,listOfAllies:"",listOfEnemies:"",contactList:"",lastUpgradeCheck:0,needToDoUpgrade:!1,characterVirtualLevel:0,guildLogoControl:!1,statisticsControl:!1,guildStructureControl:!1,lastMembrListCheck:0,disableItemColoring:!0,showQuickSendLinks:!1,needToCompose:!1,lastComposeCheck:0,lastOnlineCheck:0,bountyList:"",wantedList:"",lowestLevelInTop250:0,quickMsg:'["Thank you very much ^_^","Happy hunting, {playername}"]',sendClasses:'["Composed Pots", "13699"], ["Amber", "5611"], ["Amethyst Weed", "9145"], ["Blood Bloom", "5563"], ["Cerulean Rose", "9156"], ["Coleoptera Body", "9287"], ["Dark Shade", "5564"], ["Deathbloom", "9140"], ["Deathly Mold", "9153"], ["Greenskin Fungus", "9148"], ["Heffle", "5565"], ["Jademare", "5566"], ["Ruby Thistle", "9143"], ["Toad Corpse","9288"], ["Trinettle", "5567"], ["Viridian Vine", "9151"], ["Mortar & Pestle", "9157"], ["Beetle Juice", "9158"]',quickSearchList:'[{"category":"Plants","searchname":"Amber","nickname":""},{"category":"Plants","searchname":"Blood Bloom","nickname":""},{"category":"Plants","searchname":"Jademare","nickname":""},{"category":"Plants","searchname":"Dark Shade","nickname":""},{"category":"Plants","searchname":"Trinettle","nickname":""},{"category":"Plants","searchname":"Heffle Wart","nickname":""},{"category":"Potions","searchname":"Sludge Brew","nickname":"DC 200","displayOnAH":true},{"category":"Potions","searchname":"Potion of Black Death","nickname":"DC 225","displayOnAH":true},{"category":"Potions","searchname":"Potion of Aid","nickname":"Assist","displayOnAH":true},{"category":"Potions","searchname":"Potion of Supreme Doubling","nickname":"DB 450","displayOnAH":true},{"category":"Potions","searchname":"Potion of Acceleration","nickname":"DB 500","displayOnAH":true},{"category":"Potions","searchname":"Potion of Lesser Death Dealer","nickname":"DD","displayOnAH":true},{"category":"Potions","searchname":"Runic Potion","nickname":"FI 250","displayOnAH":true},{"category":"Potions","searchname":"Potion of the Bookworm","nickname":"Lib 225","displayOnAH":true},{"category":"Potions","searchname":"Potion of Truth","nickname":"EW 1k","displayOnAH":true},{"category":"Potions","searchname":"Dull Edge","nickname":"DE 25","displayOnAH":true},{"category":"Potions","searchname":"Notched Blade","nickname":"DE 80","displayOnAH":true},{"category":"Potions","searchname":"Potion of Death","nickname":"DW 125","displayOnAH":true},{"category":"Potions","searchname":"Potion of Decay","nickname":"WI 150","displayOnAH":true},{"category":"Potions","searchname":"Potion of Fatality","nickname":"WI 350","displayOnAH":true},{"category":"Potions","searchname":"Potion of Annihilation","nickname":"DW 150","displayOnAH":true},{"category":"Potions","searchname":"Potion of the Wise","nickname":"Lib 200","displayOnAH":true},{"category":"Potions","searchname":"Potion of Shattering","nickname":"SA","displayOnAH":true},{"category":"Potions","searchname":"Dragons Blood Potion","nickname":"ZK 200","displayOnAH":true},{"category":"Potions","searchname":"Berserkers Potion","nickname":"ZK 300","displayOnAH":true},{"category":"Potions","searchname":"Potion of Fury","nickname":"ZK 350","displayOnAH":true},{"category":"Potions","searchname":"Potion of Supreme Luck","nickname":"FI 1k","displayOnAH":true}]',arenaMoves:"[]",arenaMatches:"[]",CombatLog:"",hideChampionsGroup:!1,hideElitesGroup:!1,hideSEGroup:!1,hideTitanGroup:!1,hideLegendaryGroup:!1,disableDeactivatePrompts:!1,moveComposingButtons:!1,expandMenuOnKeyPress:!1,disableBreakdownPrompts:!1,collapseNewsArchive:!1,collapseHallPosts:!1,lastmyGuildLogCheck:0,hideSubLvlCreature:!1,hidePlayerActions:!1,extraProfile:"",textToSearchFor:"",lastLadderReset:0,disableQuickWearPrompts:!1,enableGuildActivityTracker:!1,enableSeTracker:!1,showTitanInfo:!1,highlightPvpProtection:!1,showBuffInfo:!1,enableHistoryCompressor:!1,enableStamBars:!1,appBad:[0,!1]}
const Dn=[["S]",e=>e.substr(2)],["N]",e=>parseInt(e.substr(2),10)],["B]",e=>"true"===e.substr(2)]]
function On(e,n){const t=window.localStorage.getItem("GM_"+e)
return null===t||a(t)?n:function(e){const n=Dn.find(n=>e.startsWith(n[0]))
return n?n[1](e):e}(t)}function _n(e){return a(Hn[e])&&console.log("No default setting available",e,Hn[e]),On(e,Hn[e])}function In(e,n){try{return JSON.parse(e,n)}catch(e){}}function Rn(e,n){if("string"==typeof n){const e=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*)?)Z$/.exec(n)
if(e)return new Date(Date.UTC(Number(e[1]),Number(e[2])-1,Number(e[3]),Number(e[4]),Number(e[5]),Number(e[6])))}return n}function qn(e){const n=_n(e)
let t
return n&&(t=In(n,Rn)),t}function Fn(e,n,t){return e?n:t}function Qn(e){if(function(e){return!("newWindow"in e&&e.url&&e.name)}(e))return""
const n=Fn(e.newWindow,' target="new"',"")
return`<li><a href="${ie(e.url)}"${n}>${e.name}</a></li>`}function Wn(e){const n=_n("draggableQuickLinks"),t=`<div style="top:${_n("quickLinksTopPx")}px; left:${_n("quickLinksLeftPx")}px;" id="fshQuickLinks" `+`class="fshQuickLinks fshInnerBg${a="keepHelperMenuOnScreen",o=" fshFixed",i="",Fn(_n(a),o,i)}${Fn(n," fshMove","")}">${function(e){return e.map(Qn).join("")}(e)}</div>`
var a,o,i
l(document.body,t),function(e){e&&oe(r("fshQuickLinks"))}(n)}function Un(){r("statbar-container")&&function(){const e=qn("quickLinks")||[]
e.length>0&&Wn(e)}()}function Jn(e,n){const t=e.split("&")
let o
for(let e=0;e<t.length;e+=1)if(o=t[e].split("="),o[0]===n)return!!a(i=o[1])||i
var i}function zn(e){return Jn(decodeURIComponent(window.location.search.substring(1)),e)}let Vn,Kn,Xn,Yn,Zn,et
function nt(e,n){if(n)return function(e,n){const t=i(n)
if(t.includes("calfSystem"))return M(e+t,!0),!0}(e,n)}function tt(e){nt("window onerror ",e.error)}function at(e){nt("Uncaught (in promise) ",e.reason)&&e.preventDefault()}const ot=(e,n)=>Array.from(e,n)
function it(e,n){return n?n.getElementsByTagName(e):document.getElementsByTagName(e)}function st(e,n){return ot(it(e,n))}function rt(e){return g(e).trim()}function ct(e,n){return rt(n).includes(e)}function lt(){st("a",Yn).filter(X(ct,"message")).length&&l(document.body,`<audio src="${_n("defaultMessageSound")}" autoplay=true />`)}function ut(e){return"object"==typeof e}function dt(e){return new Promise(n=>{const t=document.createElement("link")
t.type="text/css",t.rel="stylesheet",t.onload=()=>{n()},t.href=e,document.body.appendChild(t)})}function ft(e,n){return rt(n)===e}function pt(e){return X(ft,e)}function mt(e,n){return n?n.querySelectorAll(e):document.querySelectorAll(e)}function ht(e,n){return ot(mt(e,n))}function gt(e,n){n instanceof Element&&(n.innerHTML=String(e))}function bt(e){gt(`<a href="${ve}settings">Game Help</a>`,e)}function yt(){ht("#pCR h3").filter(pt("Game Help")).forEach(bt)}const vt=e=>Object.entries(e)
function wt(e,n,t){ut(t[1])&&null!==t[1]?e(n[t[0]],t[1]):n[t[0]]=t[1]}function kt(e,n){vt(n).forEach(X(wt,kt,e))}function Lt(e,n){const t=document.createElement(e)
return n&&kt(t,n),t}function $t(e){return Lt("div",e)}function St(e,n){return e instanceof Node&&n instanceof Node&&e.appendChild(n),n}function xt(e){let n=r("content")
n?gt("",n):(n=$t({id:"content",style:{display:"none"}}),St(document.body,n)),$(n).dialog({width:640,modal:!0,position:{my:"top",at:"top",offset:"0 60",collision:"none"},resizable:!1}),e(n)}function At(){return t(window.$)}function Ct(e,n,t){o(e,"click",n,t)}function Pt(e){e.then(e=>e.default())}const Mt=()=>{Pt(import("./allowBack-70b65d13.js"))},Tt=()=>{Pt(import("./bioWidgets-bfc99f7c.js"))},jt=()=>{Pt(import("./guild-e22e5d98.js"))},Nt=()=>{Pt(import("./profile-2c79508d.js"))},Bt=()=>{Pt(import("./injectQuestBookFull-8f629295.js"))},Gt=()=>{Pt(import("./inventing-8b16bf2d.js"))},Et=()=>{Pt(import("./viewArchive-10c067f2.js"))},Ht=e=>{import("./injectBuffLog-b14da6d2.js").then(n=>n.default(e))},Dt=e=>{import("./injectFsBoxContent-5c056846.js").then(n=>n.default(e))},Ot=e=>{import("./monstorLog-5296f157.js").then(n=>n.default(e))},_t=e=>{import("./combatLog-7e81225d.js").then(n=>n.default(e))},It=e=>{import("./injectOnlinePlayers-3a78c9de.js").then(n=>n.default(e))},Rt=e=>{import("./recipeMgr-36e3a716.js").then(n=>n.default(e))},qt=e=>{import("./quickExtract-2cd3d5a1.js").then(n=>n.default(e))},Ft=e=>{import("./quickWear-70994ce2.js").then(n=>n.default(e))},Qt=e=>{import("./lists-378f0836.js").then(n=>n.injectAuctionSearch(e))},Wt=e=>{import("./lists-378f0836.js").then(n=>n.injectQuickLinkManager(e))},Ut=e=>{import("./findBuffs-8f4cae7f.js").then(n=>n.injectFindBuffs(e))},Jt=e=>{import("./findBuffs-8f4cae7f.js").then(n=>n.injectFindOther(e))},zt='<div class="column"><h3>Character</h3><ul><li><span class="fshLink">Buff Log</span></li><li><span class="fshLink">Combat Log</span></li><li><span class="fshLink">Creature Log</span></li><li><span class="fshLink">Recipe Manager</span></li><li><span class="fshLink">Quick Links</span></li></ul><h3>Actions</h3><ul><li><span class="fshLink">Find Buffs</span></li><li><span class="fshLink">Find Other</span></li><li><span class="fshLink">Online Players</span></li><li><span class="fshLink">AH Quick Search</span></li></ul><h3>Extra</h3><ul><li><span class="fshLink">Quick Extract</span></li><li><span class="fshLink">Quick Wear</span></li><li><span class="fshLink">FS Box Log</span></li></ul><h3>FSH developer quick links</h3><ul><li><span class="a-reply" target_player="PointyHair">PM</span> '+`<a href="${Ce}1963510">PointyHair</a></li>`+"</ul></div>"
function Vt(e){if("helperMenu"!==e.target.id)return
e.target.children[0].classList.toggle("showMenuDiv")}const Kt={"Buff Log":Ht,"Combat Log":_t,"Creature Log":Ot,"Recipe Manager":Rt,"Quick Links":Wt,"Find Buffs":Ut,"Find Other":Jt,"Online Players":It,"AH Quick Search":Qt,"Quick Extract":qt,"Quick Wear":Ft,"FS Box Log":Dt}
function Xt(e){e.target.classList.contains("fshLink")?function(e){const n=g(e.target),a=Kt[n]
At()&&t(a)&&(P("helperMenu",n),xt(a))}(e):e.target.classList.contains("a-reply")&&window.openQuickMsgDialog(e.target.getAttribute("target_player"))}function Yt(e){const n=e.target,t=$t({id:"helperMenuDiv",className:"helperMenuDiv fshInnerBg"})
l(t,zt),St(n,t),Ct(n,Vt),Ct(t,Xt)}function Zt(){r("statbar-container")&&function(){const e=$t({id:"helperMenu",className:"helperMenu",innerHTML:"Helper&nbsp;Menu"})
_n("keepHelperMenuOnScreen")&&e.classList.add("fshFixed"),K(e,"mouseenter",Yt),_n("draggableHelperMenu")&&(e.classList.add("fshMove"),oe(e)),St(document.body,e)}()}function ea(e,n){return n?n.getElementsByClassName(e):document.getElementsByClassName(e)}function na(e,n){return ot(ea(e,n))}function ta(e,n){na("player-name",e).forEach(n)}function aa(e,n){const t=e.dataset.tipped,a=/Last Activity:<\/td><td>(\d+) mins/.exec(t)[1]
a<2?e.classList.add(n.l1):a<5?e.classList.add(n.l2):e.classList.add(n.l3)}function oa(e){e&&e.classList&&e.classList.add("fshHide")}function ia(e){ot(e).forEach(oa)}const sa=[["hideGuildInfoTrade","#guild-minibox-action-trade","#online-allies-action-trade"],["hideGuildInfoSecureTrade","#guild-minibox-action-secure-trade","#online-allies-action-secure-trade"],["hideGuildInfoBuff","#guild-minibox-action-quickbuff","#online-allies-action-quickbuff"],["hideGuildInfoMessage","#guild-minibox-action-send-message","#online-allies-action-send-message"]]
function ra(e,n,t){s[t[0]]&&ia(mt(t[n],e))}function ca(e,n){sa.forEach(X(ra,e,n))}function la(e,n,t){s.hideBuffSelected&&(ia(ea(n,e)),oa(r(t)))}function ua(e){aa(e,{l1:"fshGreen",l2:"fshWhite",l3:"fshGrey"})}function da(e){gt(`<a href="${Ee}chat">Chat</a>`,e)}function fa(){const e=r("minibox-guild-members-list")
e&&(ca(e,1),la(e,"guild-buff-check-on","guild-quick-buff"),ta(e,ua),ht("#pCR h4").filter(pt("Chat")).forEach(da))}function pa(e){aa(e,{l1:"fshDodgerBlue",l2:"fshLightSkyBlue",l3:"fshPowderBlue"})}function ma(){const e=r("minibox-allies-list")
e&&(ca(e,2),la(e,"ally-buff-check-on","ally-quick-buff"),ta(e,pa))}const ha=e=>Object.keys(e)
function ba(e,n,t,a){ut(n[a])&&null!==n[a]?e[a]=t(n[a].constructor(),n[a]):e[a]=n[a]}function ya(e,n){return ut(n)&&ha(n).forEach(X(ba,e,n,ya)),e}function va(e){return e.data?(delete e.data.fshrnd,$.param(e.data)):e.url}class wa extends Error{constructor([e,n,t,a],...o){super(function(e,n,t,a){const o=`${n.status} ${n.statusText} - `
if(n.statusText===a.toString())return o+va(e)
const i=`${o+t} ${a} - ${va(e)}`
return"parsererror"===t?`${i} - ${n.responseText}`:i}(e,n,t,a),...o),Error.captureStackTrace&&Error.captureStackTrace(this,wa),this.jqSettings=e,this.jqXhr=n,this.jqTextStatus=t,this.jqErrorThrown=a}}let ka,La=!0,$a=[]
function Sa(e){e.abort(),$a=[]}function xa(e){o(window,"beforeunload",X(Sa,e))}const Aa=[0,503,504],Ca=["abort"],Pa=["We have encountered an issue with a server connection","We're performing maintenance on the game","the team have been notified and will get it fixed soon","uUDRezBqFM4"]
function Ma(e,n){(function(e){return Aa.includes(e.jqXhr.status)||Ca.includes(e.jqTextStatus)||Pa.some(n=>e.jqXhr.responseText.includes(n))})(n)||(M(n.toString(),!1),e(n))}function Ta(e,n,t,a){const o=function(e){return"string"==typeof e?{url:e}:e}(e)
return o.beforeSend=xa,$.ajax(o).then(t).catch(function([e,n,t,a,o]){return function(i,s,r){t>0&&503===i.status?setTimeout(e,100,n,t-1,a,o):Ma(o,new wa([n,i,s,r]))}}([Ta,o,n,t,a]))}function ja(){0===$a.length?La=!0:(La=!1,function(e){if($.active<5){Ta(...$a.shift()),e()}}(ja))}function Na(e){if(ka||($(document).ajaxComplete(ja),ka=!0),e)return new Promise((n,t)=>{!function(e,n,t,a){$a.push([e,n,t,a]),La&&ja()}(e,10,n,t)})}function Ba(e){return Na({url:"app.php",data:ya(e,{browser:1}),dataType:"json"})}function Ga(){return Ba(ya({cmd:"composing"},{subcmd:"view"}))}function Ea(e,n){c(e,"afterbegin",n)}const Ha=`<li class="notification"><a href="${ze}"><span`+' class="notification-icon"></span><p class="notification-content">Composing to do</p></a></li>'
function Da(){Ea(r("notifications"),Ha)}function Oa(e){return"string"==typeof e}function _a(e,n,t){!a(Modernizr)&&Modernizr.localstorage&&window.localStorage.setItem("GM_"+e,n+t)}const Ia=[[Oa,(e,n)=>{_a(e,"S]",n)}],[function(e){return"number"==typeof e},(e,n)=>{n.toString().indexOf(".")<0&&_a(e,"N]",n)}],[V,(e,n)=>{_a(e,"B]",n)}]]
function Ra(e,n){const t=Ia.find(e=>e[0](n))
t&&t[1](e,n)}function qa(e){return e.time_remaining}function Fa(){Da(),Ra("needToCompose",!0)}function Qa(e){e.potions.length!==e.max_potions?Fa():function(e){const n=Math.min.apply(null,e.map(qa))
n>0?(Ra("needToCompose",!1),Ra("lastComposeCheck",Kn+1e3*n)):Fa()}(e.potions)}function Wa(e){e.s&&Qa(e.r)}function Ua(){const e=_n("lastComposeCheck")
e&&Kn<e||Ga().then(Wa)}function Ja(){"composing"!==s.cmd&&At()&&(_n("needToCompose")?Da():Ua())}function za(e){$(e).qtip("hide")}function Va(e){return kt(e,{url:"index.php",data:{no_mobile:1}}),Na(e)}function Ka(e){return Va({data:e})}function Xa(e){Ra("needToPray",e),Ra("lastTempleCheck",(new Date).setUTCHours(23,59,59,999)+1)}const Ya='<li class="notification"><span id="helperPrayToGods" class="fastPray"><table><tbody><tr><td><span class="tip-static fshTempleZero" data-tipped="Pray to Sahria" praytype="0"></span></td><td><span class="tip-static fshTempleOne" data-tipped="Pray to Osverin" praytype="1"></span></td></tr><tr><td><span class="tip-static fshTempleTwo" data-tipped="Pray to Gurgriss" praytype="2"></span></td><td><span class="tip-static fshTempleThree" data-tipped="Pray to Lindarsil" praytype="3"></span></td></tr></tbody></table>'+`<a href="${ve}temple">`+'<p class="notification-content">Bow down to the gods</p></a></span></li>'
function Za(){r("helperPrayToGods").outerHTML='<span class="notification-icon"></span><p class="notification-content">You are currently praying at the temple.</p>',Xa(!1)}function eo(e){const n=e.target.getAttribute("praytype")
n&&(Ka({cmd:"temple",subcmd:"pray",type:n}).then(Za),za(e.target))}function no(){Ea(r("notifications"),Ya),K(r("helperPrayToGods"),"click",eo)}function to(){return!t(window.$)}function ao(e){return(new DOMParser).parseFromString(e,"text/html")}function oo(e,n){return n?n.querySelector(e):document.querySelector(e)}function io(e){s.enableTempleAlert&&function(e){let n
n="temple"!==s.cmd?ao(e):document
let t=!1
oo('input[value="Pray to Osverin"]',n)&&(no(),t=!0),Xa(t)}(e)}function so(){var e
!(e=_n("lastTempleCheck"))||Kn>e?Ka({cmd:"temple"}).then(io):_n("needToPray")&&no()}function ro(){"temple"===s.cmd||to()||so()}function co(){return-1===window.location.search.indexOf("cmd=points&type=1")}const lo=`<li class="notification"><a href="${Ge}&type=1"><span`+' class="notification-icon"></span><p class="notification-content">Upgrade stamina with gold</p></a></li>'
function uo(){co()&&Ea(r("notifications"),lo)}function fo(e){if(!s.enableUpgradeAlert)return
const n=function(e){if(co())return ao(e)
const n=mt('#pCC input[name="quantity"]')
return n[0].value="100",n[1].value="10",document}(e),t=mt("#pCC > table",n)
if(t.length>0){!function(e){const n=rt(e).split(" / ")
n[0]!==n[1]?(uo(),Ra("needToDoUpgrade",!0)):(Ra("needToDoUpgrade",!1),Ra("lastUpgradeCheck",Date.parse(`${rt(e.nextElementSibling)} GMT`)))}(t[t.length-1].rows[3].cells[2])}}function po(e){J(3,fo,[e])}function mo(){const e=_n("lastUpgradeCheck")
e&&Kn<e||Ka({cmd:"points",type:1}).then(po)}function ho(){At()&&co()&&(_n("needToDoUpgrade")?uo():mo())}function go(e,n){return 0===e?"":String(e)+n}function bo(e){let n=e,t=Math.floor(n/60)
n%=60
let a=Math.floor(t/60)
t%=60
const o=Math.floor(a/24)
return a%=24,[o,a,t,n]}function yo(e){const n=bo(Math.abs(Xn-e))
return`${go(n[0]," days, ")+go(n[1]," hours, ")+go(n[2]," mins, ")+n[3]} secs`}const vo=[[e=>e<120,"fshDodgerBlue","fshRed"],[e=>e<300,"fshDodgerBlue","fshRed"],[()=>!0,"fshPowderBlue","fshPink"]]
function wo(e,n){return n[0](Xn-e)}function ko(e,n){return`<a class="player-name tip-static ${function(e,n){const t=vo.find(X(wo,e))
return t?function(e,n){return e?n[1]:n[2]}(n,t):"fshWhite"}(e.last_login,n)}" data-tipped="<b>${e.username}</b><br><table><tbody><tr><td>Level:</td><td>${e.level}</td></tr><tr><td>Last Activity:</td><td>${yo(e.last_login)}</td></tr></tbody></table>" href="${Ce}${e.id}">${e.username}</a>`}function Lo(e){return Xn-e.last_login<1800}function $o(e,n){return`<li class="player"><div class="player-row">${s.hideBuffSelected?"":'<span class="enemy-buff-check-on"></span>'}${ko(n,e)}</div><div class="guild-minibox-actions">${s.hideGuildInfoMessage?"":'<span class="enemy-send-message guild-icon left guild-minibox-action tip-static" data-tipped="Send Message"></span>'}${s.hideGuildInfoBuff?"":'<span class="enemy-quickbuff guild-icon left guild-minibox-action tip-static" data-tipped="Quick Buff"></span>'}${function(e){return s.hideGuildInfoSecureTrade?"":'<a class="enemy-secure-trade guild-icon left guild-minibox-action'+` tip-static" href="${Te}${e.username}" data-tipped="Secure Trade"></a>`}(n)}${function(e){return s.hideGuildInfoTrade?"":'<a class="enemy-trade guild-icon left guild-minibox-action '+`tip-static" href="${Me}${e.username}" data-tipped="Send Gold/Items/FSP"></a>`}(n)}</div></li>`}function So(e,n){return e.filter(Lo).map(X($o,n)).join("")}function xo(e,n){return n.classList.contains(e)}function Ao(e,n){return xo(n[0],e)}function Co(e,n,t){const{target:a}=t,o=n.find(X(e,a))
if(o)return o[1](a)}function Po(e){return X(Co,Ao,e)}function Mo(e,n){if(function(e){return e instanceof Node&&e.parentNode instanceof Node}(n))return n.parentNode.insertBefore(e,n)}function To(e,n){if(e instanceof Element)return function(e,n){return e.firstChild instanceof Node?Mo(n,e.firstChild):St(e,n)}(e,n)}function jo(e){return Va({data:e,dataType:"json"})}function No(e){return jo(ya({cmd:"export"},e))}const Bo={}
function Go(e){return function(e){return Bo[e]||(Bo[e]=No({player_username:e,subcmd:"profile"})),Bo[e]}(e)}let Eo,Ho
function Do(){if(!Eo){const e=r("statbar-character")
e&&(Eo=g(e))}return Eo}class Oo{constructor(e="keyval-store",n="keyval"){this.storeName=n,this._dbp=new Promise((t,a)=>{const o=indexedDB.open(e,1)
o.onerror=()=>a(o.error),o.onsuccess=()=>t(o.result),o.onupgradeneeded=()=>{o.result.createObjectStore(n)}})}_withIDBStore(e,n){return this._dbp.then(t=>new Promise((a,o)=>{const i=t.transaction(this.storeName,e)
i.oncomplete=()=>a(),i.onabort=i.onerror=()=>o(i.error),n(i.objectStore(this.storeName))}))}}function _o(){return Ho||(Ho=new Oo),Ho}const Io=e=>{"NotFoundError"!==e.name&&M(i(e),!1)}
async function Ro(e,n){try{return await function(e,n=_o()){let t
return n._withIDBStore("readonly",n=>{t=n.get(e)}).then(()=>t.result)}(e,n)}catch(e){Io(e)}}async function qo(e,n,t){try{return await function(e,n,t=_o()){return t._withIDBStore("readwrite",t=>{t.put(n,e)})}(e,n,t)}catch(e){Io(e)}}function Fo(e){return qo("fsh_selfProfile",e),e}function Qo(e){return e?{...e,lastUpdate:Kn}:e}function Wo(){return Go(Do()).then(Qo).then(Fo)}function Uo(e){return!e||e.lastUpdate<Kn-s.allyEnemyOnlineRefreshTime?Wo():e}function Jo(e){return e?Wo():Ro("fsh_selfProfile").then(Uo)}function zo(e,n,t){return Math.floor(Math.max(e-n,0)/2+t)}function Vo(e,n,t,a,o){let i=a
500===a&&(i=1e3)
const s=zo(window.screen.availHeight,i,window.screenY),r=zo(document.documentElement.clientWidth,t,window.screenX)
window.open(e,n,`width=${t}, height=${i}, left=${r}, top=${s}${o}`)}function Ko(e){Vo(`${Je}&t=${e}`,"fsQuickBuff",618,1e3,",scrollbars")}const Xo=[(e,n)=>e.length+n.length,(e,n)=>{if(!s.enableAllyOnlineList)return n.length},e=>{if(!s.enableEnemyOnlineList)return e.length}]
function Yo(e,n,t){return 0===t(e,n)}function Zo(n){const t=e(n._allies,[]),a=e(n._enemies,[]);(function(e,n){return Xo.every(X(Yo,e,n))})(t,a)||function(e,n){let t=""
s.enableAllyOnlineList&&(t+=So(e,!0)),s.enableEnemyOnlineList&&(t+=So(n,!1))
const a=r("fshContactList")
gt("",a),l(a,t)}(t,a)}function ei(e){e.classList.toggle("enemy-buff-check-on"),e.classList.toggle("enemy-buff-check-off")}const ni=[["enemy-buff-check-on",ei],["enemy-buff-check-off",ei],["enemy-send-message",function(e){window.openQuickMsgDialog(g(e.parentNode.previousElementSibling.lastElementChild))}],["enemy-quickbuff",function(e){Ko(g(e.parentNode.previousElementSibling.lastElementChild))}],["enemy-quick-buff",function(){Ko(na("enemy-buff-check-on",r("fshContactList")).map(e=>g(e.nextElementSibling)).join())}]]
function ti(e){const{target:n}=e
"fshResetEnemy"!==n.id?Po(ni)(e):Jo(!0).then(Zo)}function ai(e){const n=$t({id:"fshAllyEnemy",className:"minibox"})
let t='<h3>Allies/Enemies</h3><div class="minibox-content"><h4>Online Contacts <span id="fshResetEnemy">Reset</span></h4><div id="minibox-enemy"><ul id="fshContactList"></ul>'
s.hideBuffSelected||(t+='<ul class="enemy-quick-buff">Quick Buff Selected</ul>'),t+="</div></div>",l(n,t),To(et,n),Ct(n,ti),Zo(e)}function oi(e){e&&J(3,ai,[e])}function ii(){to()||Jo(!1).then(oi)}function si(e){return Ka({cmd:"bounty",page:e})}function ri(e){return e()}function ci(e){return oo("img",e[2]).title}function li(e){const n="A"===(t=e[0]).children[0].tagName?t.children[0]:t.children[0].children[0]
var t
return{target:g(n),link:n.href,lvl:g(n.nextSibling).replace(/[[|\]]/g,""),reward:g(e[2]),rewardType:ci(e),posted:g(e[3]),xpLoss:g(e[4])}}function ui(e){return e.split(/\s*,\s*/)}function di(e){const n=_n(e)
return n?ui(n):[]}let fi,pi,mi,hi,gi,bi
function yi(e){return ya(li(e),{progress:g(e[5])})}function vi(e){(function(e){return!/No bounties active/.test(e.rows[1].cells[0].innerHTML)})(e)&&function(e){for(let n=1;n<e.rows.length-2;n+=2){const t=yi(e.rows[n].cells)
fi.bounty.push(t)}}(e)}function wi(){return fi&&Xn-fi.lastUpdate>hi||pi&&Xn-pi.lastUpdate>hi}function ki(e){const n=e[6]
return"[n/a]"!==rt(n)?n.children[0].children[0].getAttribute("onclick"):""}const Li=[()=>bi.includes("*"),e=>bi.includes(e),(e,n)=>s.wantedGuildMembers&&"[n/a]"===rt(n.cells[6])]
function $i(e,n){var t;(function(e,n){return"[active]"!==rt(n.cells[6])&&Li.some(t=>t(e,n))})(e,n)&&pi.bounty.push(ya(li(t=n.cells),{offerer:rt(t[1].children[0].children[0]),tickets:rt(t[5]),accept:ki(t)}))}let Si,xi,Ai,Ci,Pi,Mi
function Ti(){return $t({className:"minibox"})}function ji(e){return Lt("span",e)}function Ni(e,n){Ra(e,JSON.stringify(n))}function Bi(){Ni("bountyList",fi),gt("",Si)
const e=$t({innerHTML:`<a href="${Ye}">Active Bounties</a> `})
Ai=ji({className:"xxsLink",textContent:"Reset"}),St(e,Ai),St(Si,e)
let n=""
if(0===fi.bounty.length)n+='<div class="xsOrange">[No active bounties]</div>'
else for(let e=0;e<fi.bounty.length;e+=1)n+=`<a href="${fi.bounty[e].link}" class="tip-static" data-tipped="${t=fi.bounty[e],`Level:  ${t.lvl}<br>Reward: ${t.reward} ${t.rewardType}<br>XP Loss Remaining: ${t.xpLoss}<br>Progress:  ${t.progress}`}">${fi.bounty[e].target}</a><br>`
var t
l(Si,n)}function Gi(){Ni("wantedList",pi),gt("",xi)
const e=$t({innerHTML:`<a href="${Ye}">Wanted Bounties</a> `})
Ci=ji({className:"xxsLink",textContent:"Reset"}),St(e,Ci),St(xi,e)
let n=""
if(0===pi.bounty.length)n+='<div class="xsOrange">[No wanted bounties]</div>'
else for(let e=0;e<pi.bounty.length;e+=1)n+=`${a=pi.bounty[e],a.accept?`<span class="xsGreen" onclick="${a.accept}">[a]</span>&nbsp;`:""}<a class="xsKhaki tip-static" data-tipped="${t=pi.bounty[e],`Target Level:  ${t.lvl}<br>Offerer: ${t.offerer}<br>Reward: ${t.reward} ${t.rewardType}<br>XP Loss Remaining: ${t.xpLoss}<br>Posted: ${t.posted}<br>Tickets Req.:  ${t.tickets}`}" href="${pi.bounty[e].link}">${pi.bounty[e].target}</a><br>`
var t,a
l(xi,n)}function Ei(e){const n=oo('#pCC input[name="page"]',e)
if(!n)return
Pi=Number(n.value),Mi=Number(n.parentNode.innerHTML.match(/of&nbsp;(\d*)/)[1])
const t=r("bounty-info",e).parentNode.parentNode.nextElementSibling.children[0].children[0]
t&&function(e){for(let n=1;n<e.rows.length-2;n+=2){const t=e.rows[n],a=rt(t.cells[0].children[0].children[0])
if("[ No bounties available. ]"===a)break
$i(a,t)}}(t)}function Hi(e){s.enableActiveBountyList&&!mi&&(!function(e){const n=r("bounty-info",e)
if(!n)return
const t=n.parentNode.parentNode.previousElementSibling.children[0].children[0]
fi={},fi.bounty=[],fi.isRefreshed=!0,fi.lastUpdate=Xn,t&&vi(t),mi=!0}(e),Bi())}function Di(e){const n=ao(e)
Hi(n),s.enableWantedList&&(Ei(n),Pi<Mi?si(Pi+1).then(Di):Gi())}const Oi=[()=>!fi,()=>!pi,()=>gi]
function _i(e,n){fi=qn("bountyList"),pi=qn("wantedList"),hi=_n("bountyListRefreshTime"),gi=_n("bwNeedsRefresh"),gi||wi()&&(gi=!0),Oi.some(ri)?(pi={},pi.bounty=[],pi.isRefreshed=!0,pi.lastUpdate=Xn,mi=!1,bi=di("wantedNames"),Ra("bwNeedsRefresh",!1),si(1).then(Di)):function(e,n){n&&(pi.isRefreshed=!1,Gi()),e&&(fi.isRefreshed=!1,Bi())}(e,n)}function Ii(e){e.target===Ai&&(Ni("bountyList",null),_i(s.enableActiveBountyList,s.enableWantedList)),e.target===Ci&&(Ni("wantedList",null),_i(s.enableActiveBountyList,s.enableWantedList))}function Ri(){to()||(s.enableWantedList&&(xi=Ti(),To(et,xi)),s.enableActiveBountyList&&(Si=Ti(),To(et,Si)),Si&&Ct(Si,Ii),xi&&Ct(xi,Ii),_i(s.enableActiveBountyList,s.enableWantedList))}function qi(){(s.enableAllyOnlineList||s.enableEnemyOnlineList)&&J(3,ii),(s.enableWantedList||s.enableActiveBountyList)&&J(3,Ri),s.enableGuildInfoWidgets&&J(3,fa),s.enableOnlineAlliesWidgets&&J(3,ma),s.enableTempleAlert&&J(3,ro),s.enableUpgradeAlert&&J(3,ho),s.enableComposingAlert&&J(3,Ja)}function Fi(e){e()}function Qi(e){e.forEach(Fi)}function Wi(e){s[e]=_n(e)}function Ui(e){return Ba(ya({cmd:"guild"},e))}let Ji
function zi(){return Ji||(Ji=Ui({subcmd:"manage"})),Ji}function Vi(e){return Math.floor(Math.max(0,Xn-e)/86400)}const Ki=0,Xi=1,Yi=2,Zi=3,es=4,ns=5,ts=6
let as,os
function is(e){as.members[e.name].push([Vi(e.last_activity),e.current_stamina,e.level,e.max_stamina,Xn,e.vl,e.guild_xp])}const ss=[(e,n)=>n.current_stamina!==e[1],(e,n)=>n.max_stamina>e[3],(e,n)=>n.level!==e[2],(e,n)=>n.vl!==e[5],(e,n)=>n.guild_xp!==e[6]]
function rs(e,n,t){return t(e,n)}function cs(e,n){!function(e,n){return ss.some(X(rs,e,n))}(e,n)?(e[0]=Vi(n.last_activity),e[4]=Xn):is(n)}function ls(e,n){!function(e){as.members[e.name]||(as.members[e.name]=[],is(e))}(n)
const t=as.members[n.name],a=t[t.length-1]
Xn-a[4]>=86100&&cs(a,n),e.members[n.name]=as.members[n.name]}function us(e,n){n.members.forEach(X(ls,e))}function ds(e){e&&e.r&&(os=e,function(){const e={lastUpdate:Xn,members:{}}
os.r.ranks.forEach(X(us,e)),qo("fsh_guildActivity",e)}())}function fs(n){as=n||{lastUpdate:0,members:{}},Xn>e(as.lastUpdate,0)+300&&zi().then(ds)}function ps(){At()&&_n("enableGuildActivityTracker")&&Ro("fsh_guildActivity").then(fs)}function ms(e){if(function(e){return"?cmd=notepad&blank=1&subcmd=newguildlog"!==window.location.search||"notification-guild-log"!==e.parentNode.id}(e))return
const n=e.parentNode
n&&oa(n)}function hs(e){e.href=ke}function gs(){if(!_n("useNewGuildLog"))return
const e=ht(`#pCL a[href="${He}"]`)
e.length>0&&function(e){e.forEach(hs),ms(e[e.length-1])}(e)}function bs(e){let n=function(e){return e||""}(e)
const t=ea("message",r("minibox-fsbox"))[0].innerHTML
n.indexOf(t)<0&&(n=`<br>${t}${n}`),n.length>1e4&&(n=n.substring(0,1e4)),qo("fsh_fsboxcontent",n)}function ys(){P("injectFSBoxLog","injectFsBoxContent"),xt(Dt)}function vs(e){const n=e.lastElementChild
l(n,"<br>"),function(e){let n=it("a",e)
0!==n.length&&(Ro("fsh_fsboxcontent").then(bs),n=g(n[0]),l(e,`<span class="fshPaleVioletRed">[ <a href="${xe}${n}">Ignore</a> ]</span> `))}(n)
const t=ji({className:"fshYellow",innerHTML:'[ <span class="fshLink">Log</span> ]'})
Ct(t,ys),St(n,t)}function ws(){_n("fsboxlog")&&function(){const e=r("minibox-fsbox")
At()&&e&&vs(e)}()}function ks(e){return Lt("a",e)}function Ls(e){return e.getAttribute("oldtitle")||e.getAttribute("title")}const $s=/(\s*A ')([^']*)(' titan has been spotted in )([^!]*)(!)/
function Ss(e,n){return`<a href="${e}" target="_blank">${n}</a>`}function xs(e){return`${Ze}creatures&search_name=${e}`}function As(e){const n=ks({href:xs(encodeURIComponent(Ls(e))),target:"_blank"})
Mo(n,e),St(n,e)}function Cs(e){return $s.test(e.firstChild.nodeValue)}function Ps(e){const n=e.firstChild.nodeValue.match($s)
var t
return n[2]=Ss(xs(n[2]),n[2]),n[4]=Ss((t=n[4],`${Ze}realms&search_name=${t}`),n[4]),n.slice(1).join("")}function Ms(e){const n=ji({innerHTML:Ps(e)})
e.replaceChild(n,e.firstChild)}function Ts(e,n){c(e,"afterend",n)}function js(e){const n=e.split(/[: /[]/)
return Date.UTC(Number(n[4]),ue.indexOf(n[3]),Number(n[2]),Number(n[0]),Number(n[1]),0)}const Ns=e=>ft("PvP Ladder",e.children[1]),Bs=e=>js(g(e.children[2]))
const Gs=(e,n)=>`&nbsp;<a href="${e}&page=2">View ${n} Page 2</a>`
function Es(){const e=oo(`#pCC a[href="${Ke}"]`)
e&&(Ts(e,Gs(Ke,"Updates")),Ts(oo(`#pCC a[href="${Xe}"]`),Gs(Xe,"News")),function(){const e=na("news_head_tavern",Zn).filter(Ns).map(Bs),n=Math.max.apply(null,e)
n>_n("lastLadderReset")&&Ra("lastLadderReset",n)}(),ht('.news_body img[src*="/creatures/"]').forEach(As),na("news_body_tavern",Zn).filter(Cs).forEach(Ms))}function Hs(e){if(!g(e).includes("New attack group created."))return
let n=""
if(_n("enableMaxGroupSizeToJoin")){const e=_n("maxGroupSizeToJoin")
n=`<a href="${qe}"><span `+'class="notification-icon"></span><p class="notification-content">'+`Join all attack groups less than size ${e}.</p></a>`}else n=`<a href="${Re}"><span `+'class="notification-icon"></span><p class="notification-content">Join all attack groups.</p></a>'
Ts(e,`<li class="notification">${n}</li>`)}function Ds(){st("li",r("pCL")).forEach(Hs)}function Os(e){return e?Number(e.replace(/,/g,"")):0}function _s(e){return g(e[0].nextElementSibling)}function Is(e){return Os(_s(ea(e)))}function Rs(e){let n=e.toString()
return e<10&&(n=`0${n}`),n}function qs(e,n){const t=/([0-9]+)m ([0-9]+)s/.exec(e)
var a
if(t)return`<dd>${a=new Date(Kn+1e3*(60*(60*n+Number(t[1]))+Number(t[2]))),`${Rs(a.getHours())}:${Rs(a.getMinutes())} ${a.toLocaleString("en",{weekday:"short"})} ${Rs(a.getDate())}/${ue[a.getMonth()]}/${a.getFullYear()}`}</dd>`}function Fs(){const e=ea("stat-xp-nextGain")
0!==e.length&&l(r("statbar-level-tooltip-general"),`<dt class="stat-xp-nextLevel">Next Level At</dt>${qs(_s(e),Math.ceil(Is("stat-xp-remaining")/Is("stat-xp-gainPerHour")))}`)}function Qs(e){return Lt("li",e)}function Ws(e,n,t){const a=r(e)
if(a instanceof Node){n(a.parentNode,t)}else M(`#${e} is not a Node`,!1)}function Us(e,n){if(n instanceof Node&&n.parentNode instanceof Node)return function(e,n){return n.nextSibling instanceof Node?Mo(e,n.nextSibling):St(n.parentNode,e)}(e,n)}function Js(e,n){P("accordion",e),xt(n)}function zs(e,n){Us(n,e)}function Vs(e,n,t,a){const o=Qs({className:`nav-level-${e}`}),i=ks({className:"nav-link fshPoint",textContent:n})
Ct(i,X(Js,n,t)),St(o,i),Ws(a,zs,o)}function Ks(){Vs("2","AH Quick Search",Qt,"nav-actions-trade-auctionhouse"),Vs("2","Online Players",It,"nav-actions-interaction-findplayer"),Vs("2","Find Other",Jt,"nav-actions-interaction-findplayer"),Vs("2","Find Buffs",Ut,"nav-actions-interaction-findplayer")}const Xs=e=>22*e.length,Ys=e=>Xs(r(`nav-${e}`).nextElementSibling.children),Zs=e=>Xs(mt(`#nav-${e} > ul li`))
function er(){Vs("1","Recipe Manager",Rt,"nav-character-log"),Ws("nav-character-log",Ts,'<li class="nav-level-1"><a class="nav-link" id="nav-character-medalguide"'+` href="${Ae}&subcmd=medalguide">Medal Guide</a></li>`+'<li class="nav-level-1"><a class="nav-link" '+`id="nav-character-invmanager" href="${Ne}invmanagernew">Inventory Manager</a></li>`),_n("keepBuffLog")&&Vs("1","Buff Log",Ht,"nav-character-log"),_n("keepLogs")&&Vs("1","Combat Logs",_t,"nav-character-notepad"),_n("showMonsterLog")&&Vs("1","Creature Logs",Ot,"nav-character-notepad"),Vs("1","Quick Links",Wt,"nav-character-notepad")}let nr,tr,ar,or,ir,sr,rr,cr,lr,ur,dr
function fr(e){const n=g(e).match(/\s+guildId: ([0-9]+),/)
n&&(nr=Number(n[1]))}function pr(){return nr||st("script",document.body).forEach(fr),nr}function mr(e){return function(e){return-1!==e&&0===oo(`#nav li.nav-level-0:nth-child(${e+1}) ul`).offsetHeight}(e)?(P("accordion","collapse"),-1):e}function hr(e){if(function(e){if(ut(e))return!0
M("$('#nav').data('hcsNav') is not an object",!1)}(e)&&function(e){if("heights"in e)return!0
M("$('#nav').data('hcsNav').heights does not exist",!1)}(e))return!0}function gr(){const e=_n("lastActiveQuestPage")
e.length>0&&(r("nav-character-questbook").href=e)}function br(){const e=_n("lastScavPage")
e.length>0&&(r("nav-actions-artisanship-scavenging").href=e)}function yr(){pr()&&Ws("nav-guild-storehouse-inventory",Ts,'<li class="nav-level-2"><a class="nav-link" '+`id="nav-guild-guildinvmanager" href="${Ne}guildinvmgr">Guild Inventory</a></li>`)}function vr(){pr()&&!_n("useNewGuildLog")&&Ws("nav-guild-ledger-advisor",Ts,`<li class="nav-level-2"><a class="nav-link" href="${ke}">New Guild Log</a></li>`)}function wr(){Ws("nav-toprated-players-level",Ts,'<li class="nav-level-2"><a class="nav-link" id="nav-toprated-top250" '+`href="${ve}toprated&subcmd=xp">Top 250 Players</a></li>`)}function kr(){const[e,n]=function(){const e=r("nav"),n=$(e).data("hcsNav")
return n&&hr(n)?[e,n]:[]}()
e&&n&&(Qi([gr,br,er,yr,vr,wr,Ks]),function(e,n){n.heights=[null,null,Ys("character"),Zs("actions"),Zs("guild"),Zs("toprated"),Zs("upgrades"),Ys("resources"),null],-1!==Number(n.state)&&(e.children[n.state].children[1].style.height=`${n.heights[n.state]}px`)}(e,n),function(e){const n=e._saveState
e._saveState=function(t){n.call(e,mr(t))}}(n))}function Lr(){Yn&&!to()&&kr()}function $r(e,n){n instanceof Node&&(n.textContent=String(e))}function Sr(e){"Enter"!==e.key||e.shiftKey||(e.preventDefault(),rr())}function xr(e){!function(){if(!ur){const e=ea("validateTips",ar)
1===e.length&&([ur]=e)}}(),ur&&$r(e,ur)}function Ar(e,n,t){const a=sr.insertRow(e)
let o=a.insertCell(-1)
l(o,n),o=a.insertCell(-1),l(o,t)}function Cr(e,n){return`<button class="fshButton ui-corner-all ${e}-button">${n}</button>`}function Pr(e,n){Ar(e,Cr("del","Del"),`<span class="ui-widget-content fshBlck add-template">${n}</span>`)}const Mr=[["del-button",function(e){const n=e.parentNode.parentNode.rowIndex
sr.deleteRow(n),ir.splice(n-2,1),Ni("quickMsg",ir)}],["add-button",function(e){const n=e.parentNode.nextElementSibling.children[0],t=n.value
if(""!==t){Pr(e.parentNode.parentNode.rowIndex,t),n.value="",ir.push(t),Ni("quickMsg",ir)}}],["add-template",function(e){lr.value+=`${g(e).replace(/\{playername\}/g,cr)}\n`}]]
function Tr(e){Pr(-1,e)}function jr(){dr||(sr||(sr=ar.lastElementChild),ir.forEach(Tr),Ar(-1,Cr("add","Add"),'<input id="newTmpl" class="ui-widget-content fshTmpl">'),dr=!0,Ct(sr,Po(Mr)))}function Nr(n,t,a){ar||(ar=r("quickMessageDialog")),or||(or=$(ar)),ar.classList.contains("ui-dialog-content")&&(!function(){if(!ir){ir=qn("quickMsg")
const e=or.dialog("option","buttons")
rr=e["Send Message"]}}(),jr(),function(e){cr=e,$r(e,r("quickMsgDialog_targetUsername"))}(n),function(n){lr=r("quickMsgDialog_msg"),lr.value=e(n,""),lr.disabled=!1}(t),tr&&o(lr,"keypress",Sr),xr(e(a,"")),or.dialog("open"))}function Br(){to()||(tr=_n("enterForSendMessage"),window.openQuickMsgDialog=Nr)}function Gr(e,n){e instanceof Element&&e.classList.toggle("fshHide",n)}function Er(e,n){const t=n.nextElementSibling.children[0]
8===t.children.length&&(!function(e,n){St(e,$t({className:"tip-static",dataset:{tipped:"Server"},textContent:`Server: ${g(n.children[7])}`}))}(e,t),function(e,n){gt(`Online: ${n.children[3].innerHTML}`,e.children[0])}(e,t),Gr(n.parentNode,!0))}function Hr(){const e=r("topbanner-stats"),n=ht("#pCR h3").find(pt("Game Stats"));(function(e,n){return!(e&&xo("topbanner-stats-hidden",e))&&n})(e,n)&&Er(e,n)}function Dr(){const e=ea("stat-stamina-nextGain")
if(0===e.length)return
const n=r("statbar-stamina-tooltip-stamina")
l(n,function(e,n){return`<dt class="stat-stamina-nextHuntTime">Max Stam At</dt>${qs(_s(e),Math.floor((Os(n[2])-Os(n[1]))/Is("stat-stamina-gainPerHour")))}`}(e,function(e){return/([,0-9]+)\s\/\s([,0-9]+)/.exec(_s(ea("stat-name",e)))}(n)))}function Or(){window.openWindow=Vo}function _r(){const e=r("minibox-spoilsofwar")
if(e){l(e.children[1].children[0],`&nbsp;<a href="${De}" class="tip-static" data-tipped="View Scout Report">`+'<img id="fshScoutTower" '+`src="${re}/structures/27.png"></a>`)}}function Ir(e){e.stopPropagation()}function Rr(e,n){const t=r(`statbar-${n}`)
if(!t)return
const a=ks({href:e}),o=t.parentNode
St(a,t),To(o,a),Ct(a,Ir,!0)}function qr(){Rr(Ae,"character"),Rr(`${Ge+"&subcmd="}reserve`,"stamina"),Rr(Ue,"equipment"),Rr(Pe,"inventory"),Rr(Ge,"fsp"),Rr(`${ve}bank`,"gold")}function Fr(e){J(3,e)}function Qr(){[qr,Dr,Fs,Lr,ws,Or,Ds,gs,Es,Br,Hr,_r].forEach(Fr)}function Wr(){return Ba({cmd:"superelite"})}let Ur,Jr,zr
function Vr(){Jr&&(window.clearTimeout(Jr),Jr=!1),zr&&(window.clearInterval(zr),zr=!1)}function Kr(e,n){const t=e-n.time,a=n.creature.name.replace(" (Super Elite)","");(!Ur.se[a]||Ur.se[a]<t)&&(Ur.se[a]=t)}function Xr(e){(function(e){return e&&e.t})(e)&&function(e){const n=Number(e.t.split(" ")[1])
Ur||(Ur={lastUpdate:0,se:{}}),Ur.lastUpdate=n
const t=e.r
t&&(t.forEach(X(Kr,n)),qo("fsh_seLog",Ur))}(e)}function Yr(){return Wr().then(Xr)}function Zr(){return Vr(),zr=window.setInterval(Yr,3e5),Yr()}function ec(){const e=Xn-(Ur&&Ur.lastUpdate||0)
e>=600?Zr():Jr=window.setTimeout(Zr,1e3*(600-e))}function nc(e){e&&(Ur=e)}function tc(){return Ro("fsh_seLog").then(nc)}function ac(){At()&&s.enableSeTracker&&"superelite"!==s.cmd&&tc().then(ec)}function oc(){["enableAllyOnlineList","enableEnemyOnlineList","enableGuildInfoWidgets","enableOnlineAlliesWidgets","enableSeTracker","hideGuildInfoTrade","hideGuildInfoSecureTrade","hideGuildInfoBuff","hideGuildInfoMessage","hideBuffSelected","enableTempleAlert","enableUpgradeAlert","enableComposingAlert","enableActiveBountyList","enableWantedList","wantedGuildMembers"].forEach(Wi),s.allyEnemyOnlineRefreshTime=1e3*_n("allyEnemyOnlineRefreshTime")}function ic(e){const n=r(e)
n&&To(et,n)}function sc(e){const n=r(e)
n&&(n.classList.add("pCR"),St(Yn,n))}function rc(){_n("moveGuildList")&&J(3,ic,["minibox-guild"])}function cc(){_n("moveOnlineAlliesList")&&J(3,ic,["minibox-allies"])}function lc(){_n("moveFSBox")&&J(3,sc,["minibox-fsbox"])}function uc(){_n("moveDailyQuest")&&J(3,sc,["minibox-daily-quest"])}function dc(e){J(4,e)}function fc(){[ps,ac].forEach(dc)}function pc(){s.huntingMode||(J(3,sc,["minibox-xmas"]),Qi([rc,cc,uc,lc,oc,qi,Qr,fc]))}function mc(e){_n("expandMenuOnKeyPress")&&localStorage.setItem("hcs.nav.openIndex",e)}function hc(e){P("keyHandler",e)}function gc(e){return Ba(ya({cmd:"profile"},e))}function bc(){return gc({subcmd:"view"})}const yc=[(e,n)=>n,(e,n)=>n.s,(e,n)=>n.r,(e,n)=>n.r.equip_sets,(e,n)=>n.r.equip_sets.length>e]
function vc(e,n,t){return t(e,n)}function wc(e,n){if(function(e,n){return yc.every(X(vc,e,n))}(e,n)){const t=n.r.equip_sets[e].id
mc("2"),window.location.href=`${Ae+"&subcmd="}managecombatset&submit=Use&combatSetId=${t}`}}function kc(e){hc("changeCombatSet"),bc().then(X(wc,e))}function Lc(e,n){r("worldPage")||(hc(e),window.location.href=n)}function $c(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function Sc(e){const n=r("info-msg",e)
if(n){const e=n.innerHTML
return e?e.replace(/<br.*/,""):""}}function xc(e){return Sc(ao(e))}let Ac,Cc
function Pc(e){const n=xc(e)
"You successfully sent gold!"!==n&&""!==n||(Ra("currentGoldSentTotal",parseInt(_n("currentGoldSentTotal"),10)+parseInt(_n("goldAmount"),10)),GameData.fetch(1))}function Mc(){Cc&&Ka({cmd:"trade",subcmd:"sendgold",xc:window.ajaxXC,target_username:$("#HelperSendTo").html(),gold_amount:$("#HelperSendAmt").html().replace(/[^\d]/g,"")}).then(Pc)}function Tc(e){$("#statbar-gold").css("background-color",e)}function jc(){$("#HelperSendTotal").html($c(_n("currentGoldSentTotal"))),Number(GameData.player().gold)>Ac?Tc("red"):Tc("inherit")}function Nc(){Ac=_n("goldAmount"),$("#statbar-gold-tooltip-general").append('<dt class="stat-gold-sendTo">Send To:</dt>'+`<dd id="HelperSendTo">${_n("goldRecipient")}</dd>`+'<dt class="stat-gold-sendAmt">Amount:</dt>'+`<dd id="HelperSendAmt">${$c(Ac)}</dd>`+'<dt class="stat-gold-sendTo">Send?</dt><dd><input id="HelperSendGold" value="Send!" class="custombutton" type="submit"><input type="hidden" id="xc" value=""</dd><dt class="stat-gold-sendTotal">Total Sent:</dt>'+`<dd id="HelperSendTotal">${$c(_n("currentGoldSentTotal"))}</dd>`),$("#HelperSendGold").on("click",Mc),jc(),$.subscribe("gold.stats-player",jc)}function Bc(){Cc=_n("sendGoldonWorld"),Cc&&Nc()}function Gc(){hc("logPage"),mc("2"),window.location.href=Se}function Ec(e){e.click()}function Hc(e){const n=oo(`#pCC input[value="${e}"]`)
n&&(hc("movePage"),Ec(n))}const Dc=[["!",kc,0],["@",kc,1],['"',kc,1],["#",kc,2],["£",kc,2],["$",kc,3],["%",kc,4],["^",kc,5],["&",kc,6],["*",kc,7],["(",kc,8],["0",function(){Lc("toWorld",Fe)}],["<",Hc,"<"],[">",Hc,">"],["G",function(){hc("createGroup"),mc("4"),window.location.href=`${Oe}create`}],["L",Gc],["b",function(){hc("backpack"),mc("2"),window.location.href=Pe}],["g",function(){hc("gotoGuild"),mc("4"),window.location.href=`${Ee}manage`}],["j",function(){hc("joinAllGroup"),mc("4"),_n("enableMaxGroupSizeToJoin")?window.location.href=qe:window.location.href=Re}],["l",Gc],["p",function(){hc("profile"),mc("2"),window.location.href=Ae}],["r",function(){Lc("doRepair",`${Ue+"&subcmd="}repairall`)}],["v",function(){"dialogIsClosed"in s&&!s.dialogIsClosed()||(hc("insertQuickWear"),xt(Ft))}],["y",Mc]]
const Oc=[e=>["HTML","BODY"].every(n=>e.target.tagName!==n),e=>e.ctrlKey,e=>e.metaKey,e=>e.altKey]
function _c(e){var n;(n=e,Oc.some(e=>e(n)))||function(e){const n=Dc.find(n=>e===n[0])
n&&n[1](n[2])}(e.key)}function Ic(){o(document,"keyup",_c)}function Rc(e){const n=In(e)
n&&n["new-ui"]&&(_n("gameHelpLink")&&J(3,yt),s.huntingMode=_n("huntingMode"),J(3,Ic),pc(),_n("hideHelperMenu")||J(3,Zt))}function qc(){const e=function(){const e=r("html")
if(e&&e.dataset)return e.dataset.hcs}()
e&&Rc(e)}const Fc=()=>{Pt(import("./results-c6bd2845.js"))},Qc={"-":{"-":()=>{Pt(import("./arena-351281dc.js").then((function(e){return e.a})))}},dojoin:{"-":()=>{Pt(import("./arenaDoJoin-57131c71.js"))}},join:{"-":()=>{Pt(import("./arenaJoin-48906ab5.js"))}},completed:{"-":()=>{Pt(import("./completedArenas-05045730.js"))}},pickmove:{"-":()=>{Pt(import("./store-d2e37a73.js"))}},setup:{"-":()=>{Pt(import("./setup-e457479f.js"))}}}
Qc.results={"-":Fc}
var Wc={"-":{"-":()=>{Pt(import("./injectAuctionHouse-5e041e63.js"))}},quickcreate:{"-":()=>{Pt(import("./quickCreate-cf96d1d4.js"))}}}
var Uc={"-":{"-":()=>{Pt(import("./composing-769c02f1.js"))}},breakdown:{"-":()=>{Pt(import("./breakdown-5ec7956d.js"))}},create:{"-":()=>{Pt(import("./composingCreate-91cb98a3.js"))}}}
const Jc=()=>{Pt(import("./guildAdvisor-c266bb3f.js"))}
const zc=()=>{Pt(import("./groups-1c63b905.js"))}
const Vc=()=>{Pt(import("./injectGuildAddTagsWidgets-65d25f49.js"))}
const Kc=()=>{Pt(import("./guildChat-bc8ce4e5.js"))}
var Xc={inventory:{report:()=>{Pt(import("./guildReport-3726108d.js"))},addtags:Vc,removetags:Vc,storeitems:()=>{Pt(import("./injectStoreItems-e372e595.js"))}},chat:{"-":Kc},dochat:{"-":Kc},log:{"-":()=>{Pt(import("./guildLog-75c581d1.js"))}},groups:{viewstats:()=>{Pt(import("./injectGroupStats-26fe209b.js"))},joinallgroupsundersize:zc,joinall:zc,"-":zc},manage:{"-":jt},advisor:{"-":Jc,weekly:Jc},history:{"-":Tt},view:{"-":jt},scouttower:{"-":()=>{Pt(import("./injectScouttower-516d87e8.js"))}},mailbox:{"-":()=>{Pt(import("./guildMailbox-6e0d96c4.js"))}},ranks:{"-":()=>{Pt(import("./rank-dc938af2.js"))}},conflicts:{rpupgrades:()=>{Pt(import("./injectRPUpgrades-ad8244cf.js"))}},bank:{"-":()=>{Pt(import("./injectGuildBank-d6ac76e3.js"))}},hall:{"-":()=>{Pt(import("./hall-57e36716.js"))},post:Tt}}
var Yc={"-":{"-":Mt},view:{"-":()=>{Pt(import("./itemsView-819732c6.js"))}}}
var Zc={"-":{"-":()=>{Pt(import("./playerLog-e77f8c81.js"))}},outbox:{"-":()=>{Pt(import("./outbox-28c9c027.js"))}}}
var el={fsbox:{"-":()=>{Pt(import("./newsFsbox-36533d2c.js"))}},shoutbox:{"-":()=>{Pt(import("./newsShoutbox-96e18d14.js"))}},viewupdatearchive:{"-":Et},viewarchive:{"-":Et}}
var nl={viewupdatearchive:{"-":Et},viewarchive:{"-":Et},"-":{"-":()=>{Pt(import("./unknownPage-8ae9712c.js"))}}}
const tl=()=>{Pt(import("./inventory-0952bd46.js"))},al=()=>{Pt(import("./reliclist-10f4dddb.js"))},ol=()=>{Pt(import("./advisor-0e576944.js"))},il=()=>{Pt(import("./crawler-47b42ea5.js"))},sl=()=>{Pt(import("./newGuildLog5-4474a07f.js"))},rl=()=>{Pt(import("./whosGotWhat-e73d1c9a.js"))},cl={showlogs:{"-":_t},invmanagernew:{"-":tl},guildinvmgr:{"-":tl},recipemanager:{"-":Rt},auctionsearch:{"-":Qt},onlineplayers:{"-":It},quicklinkmanager:{"-":Wt},monsterlog:{"-":Ot},quickextract:{"-":qt},quickwear:{"-":Ft},fsboxcontent:{"-":Dt},bufflogcontent:{"-":Ht},newguildlog:{"-":()=>{Pt(import("./newGuildLog-823c577d.js"))}},findbuffs:{"-":Ut},findother:{"-":Jt},savesettings:{"-":()=>{Pt(import("./load-85372af7.js"))}},"-":{"-":()=>{Pt(import("./injectNotepad-658bce9d.js"))}}}
cl.newGuildLog5={"-":sl},cl.advisor={"-":ol},cl.crawler={"-":il},cl.whosgotwhat={"-":rl},cl.reliclist={"-":al}
const ll=()=>{Pt(import("./scavenging-29cb073d.js"))}
const ul=()=>{Pt(import("./toprated-9d152fa1.js"))}
const dl=()=>{Pt(import("./trade-78c67655.js"))}
const fl=()=>{Pt(import("./craftForge-bb69d5fe.js"))}
var pl={settings:{"-":{"-":()=>{Pt(import("./injectSettings-ee88c042.js"))}}},world:{"-":{"-":()=>{Pt(import("./injectWorld-245a72e7.js"))}}},news:el,arena:Qc,questbook:{"-":{"-":Bt},atoz:{"-":Bt},viewquest:{"-":()=>{Pt(import("./injectQuestTracker-6f7a5eec.js"))}}},profile:{"-":{"-":Nt},managecombatset:{"-":Nt},report:{"-":Nt},equipitem:{"-":Nt},useitem:{"-":Nt},changebio:{"-":Tt},dropitems:{"-":()=>{Pt(import("./injectProfileDropItems-e1d4a626.js"))}}},auctionhouse:Wc,guild:Xc,bank:{"-":{"-":()=>{Pt(import("./injectBank-29800d40.js"))}}},log:Zc,potionbazaar:{"-":{"-":()=>{Pt(import("./bazaar-7a85b774.js"))}}},marketplace:{createreq:{"-":()=>{Pt(import("./marketplace-bbb3b2a6.js"))}}},quickbuff:{"-":{"-":()=>{Pt(import("./quickBuff-958f1bdc.js"))}}},notepad:cl,points:{"-":{"-":()=>{Pt(import("./points-5d438812.js"))}}},trade:{"-":{"-":dl},sendgold:{"-":dl},createsecure:{"-":dl},docreatesecure:{"-":dl}},titan:{"-":{"-":()=>{Pt(import("./injectTitan-13e1d32a.js"))}}},toprated:{xp:{"-":ul},monthlyxp:{"-":ul},gold:{"-":ul},killstreak:{"-":ul},bounties:{"-":ul},risingstars:{"-":ul},arena:{"-":ul},superelites:{"-":ul},smasher:{"-":ul},globalquest:{"-":()=>{Pt(import("./globalQuest-ab295aaf.js"))}}},inventing:{viewrecipe:{"-":Gt}},tempinv:{"-":{"-":()=>{Pt(import("./mailbox-08a1140f.js"))}}},findplayer:{"-":{"-":()=>{Pt(import("./injectFindPlayer-f5da4c13.js"))}}},quests:{"-":{"-":Mt},view:{"-":()=>{Pt(import("./showAllQuestSteps-3dfbee0e.js"))}}},items:Yc,creatures:{"-":{"-":Mt}},masterrealms:{"-":{"-":Mt}},realms:{"-":{"-":Mt}},relics:{"-":{"-":Mt}},shops:{"-":{"-":Mt}},scavenging:{"-":{"-":ll},process:{"-":ll}},temple:{"-":{"-":io}},composing:Uc,pvpladder:{"-":{"-":()=>{Pt(import("./ladder-abbf7aa1.js"))}}},crafting:{"-":{"-":fl}},hellforge:{"-":{"-":fl}},superelite:{"-":{"-":()=>{Pt(import("./superelite-45ae9fd7.js"))}}},"-":nl,combat:{attackplayer:{"-":Nt}}}
let ml,hl,gl,bl,yl,vl=""
function wl(e){return zn(e)||"-"}function kl(e){const n=oo(e)
return n&&n.value||"-"}function Ll(){if(ut(pl[ml])&&ut(pl[ml][hl])&&t(pl[ml][hl][gl]))return pl[ml][hl][gl]}function $l(){""!==document.location.search?(ml=wl("cmd"),hl=wl("subcmd"),gl=wl("subcmd2"),"points"===ml&&(vl=`/${wl("type")}`)):(ml=kl('input[name="cmd"]'),hl=kl('input[name="subcmd"]'),gl=kl('input[name="subcmd2"]')),s.cmd=ml,s.subcmd=hl,s.subcmd2=gl,yl=`${ml}/${hl}/${gl}${vl}`,bl=Ll()}function Sl(){console.log("functionPath",yl),bl?t(bl)||console.log("Not Core Function."):console.log("No Core Function."),t(bl)&&(C(yl),L("JS Perf",yl),bl(),S("JS Perf",yl))}function xl(){L("JS Perf","FSH.runCore"),Kn||(Kn=Date.now(),Xn=Math.floor(Kn/1e3)),Zn||(Yn=r("pCL"),Zn=r("pCC"),et=r("pCR")),$l(),qc(),J(3,Sl),_n("playNewMessageSound")&&J(3,lt),s.huntingMode||J(3,Un),S("JS Perf","FSH.runCore")}function Al(e,n){L("JS Perf","FSH.dispatch"),t(Object.fromEntries)&&navigator.cookieEnabled&&(Vn||(o(window,"error",tt),o(window,"unhandledrejection",at),Vn=!0),function(e,n){s.gmInfo=In(decodeURIComponent(n)),s.gmInfo?s.fshVer=e:s.fshVer=`${e}_native`,s.calfVer="9"}(e,n),A(),dt("https://localhost:9966/dist/dev/calfSystem.css").then(xl),S("JS Perf","FSH.dispatch"))}export{Ts as $,r as A,$r as B,gt as C,g as D,Qe as E,pe as F,_n as G,wn as H,Os as I,_s as J,ea as K,$n as L,Je as M,ht as N,be as O,Mo as P,K as Q,n as R,oo as S,yo as T,ji as U,Us as V,Go as W,ui as X,zn as Y,Ec as Z,go as _,J as a,Na as a$,De as a0,P as a1,xt as a2,_t as a3,Ot as a4,Ra as a5,Wi as a6,ie as a7,ri as a8,Ne as a9,mt as aA,he as aB,dn as aC,Sn as aD,Cn as aE,An as aF,Pn as aG,xn as aH,re as aI,xo as aJ,ot as aK,Ui as aL,Rs as aM,ue as aN,Kn as aO,cn as aP,fn as aQ,on as aR,ya as aS,ln as aT,Jo as aU,In as aV,di as aW,Qi as aX,Bc as aY,sn as aZ,mn as a_,Ce as aa,e as ab,$c as ac,Do as ad,hn as ae,nn as af,tn as ag,pn as ah,Ro as ai,un as aj,qo as ak,na as al,t as am,a as an,en as ao,gn as ap,bn as aq,rn as ar,an as as,za as at,Ko as au,Fe as av,we as aw,Ze as ax,ha as ay,Xn as az,it as b,qt as b$,Qs as b0,le as b1,de as b2,Co as b3,pr as b4,ut as b5,pt as b6,rt as b7,Ea as b8,se as b9,Te as bA,xe as bB,Ve as bC,$e as bD,ce as bE,jo as bF,Oa as bG,He as bH,Tn as bI,Bn as bJ,Ie as bK,bo as bL,Vi as bM,zi as bN,bc as bO,fe as bP,es as bQ,Yi as bR,ns as bS,Xi as bT,Zi as bU,Ki as bV,ts as bW,oe as bX,_e as bY,Jn as bZ,Po as b_,ve as ba,fo as bb,tc as bc,Zr as bd,Ur as be,Vr as bf,Hn as bg,m as bh,h as bi,dt as bj,Sc as bk,gc as bl,z as bm,Gn as bn,Nn as bo,je as bp,c as bq,En as br,js as bs,b as bt,We as bu,xc as bv,ft as bw,Ls as bx,ks as by,Me as bz,kn as c,Ge as c0,Le as c1,Re as c2,qe as c3,Ft as c4,Pe as c5,Mn as c6,M as c7,Ln as c8,jn as c9,qn as ca,Be as cb,Ni as cc,Ae as cd,ye as ce,Va as cf,ze as cg,yn as ch,vn as ci,C as cj,Bt as ck,Gt as cl,jt as cm,Ao as cn,ge as co,Al as d,s as e,o as f,st as g,St as h,l as i,At as j,me as k,$t as l,To as m,oa as n,Ct as o,Zn as p,vt as q,Lt as r,No as s,Gr as t,Ee as u,X as v,Ka as w,ao as x,Ba as y,to as z}
//# sourceMappingURL=calfSystem-8dc0fa4b.js.map
